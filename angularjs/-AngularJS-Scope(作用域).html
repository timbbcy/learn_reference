<div class="article-intro" id="content">
<h1>AngularJS <span class="color_h1">Scope(作用域)</span>
</h1>
<hr/>
<p class="intro">Scope(作用域) 是应用在 HTML (视图) 和 JavaScript (控制器)之间的纽带。</p>
<p class="intro">Scope 是一个对象，有可用的方法和属性。</p>
<p class="intro">Scope 可应用在视图和控制器上。</p>
<hr/>
<h2>如何使用 Scope</h2>
<p>当你在 AngularJS 创建控制器时，你可以将 <b>$scope</b> 对象当作一个参数传递:</p>
<div class="example">
<h2 class="example">AngularJS 实例</h2>
<p>控制器中的属性对应了视图上的属性：</p>
<div class="example_code htmlHigh">
<div class="htmlHigh">
<span class="highLT">&lt;</span><span class="highELE">div</span> <span class="highATT">ng-app=</span><span class="highVAL">"myApp"</span> <span class="highATT">ng-controller=</span><span class="highVAL">"myCtrl"</span><span class="highGT">&gt;</span><br/><br/><span class="highLT">&lt;</span><span class="highELE">h1</span><span class="highGT">&gt;</span><span class="highATT">{{carname}}</span><span class="highLT">&lt;</span><span class="highELE">/h1</span><span class="highGT">&gt;</span><br/><br/><span class="highLT">&lt;</span><span class="highELE">/div</span><span class="highGT">&gt;</span><br/><br/><span class="highLT">&lt;</span><span class="highELE">script</span><span class="highGT">&gt;</span><br/>
</div>
<div class="jsHigh">
<span class="highELE">var</span> app = angular.module(<span class="highVAL">'myApp'</span>, 
	[]);<br/><br/>app.controller(<span class="highVAL">'myCtrl'</span>, <span class="highELE">function</span>($scope) {<br/>    $scope.carname 
	= <span class="highVAL">"Volvo"</span>;<br/>});<br/>
</div>
<div class="htmlHigh"><span class="highLT">&lt;</span><span class="highELE">/script</span><span class="highGT">&gt;</span></div></div><br/>
<a class="tryitbtn" href="/try/try.php?filename=try_ng_scope" target="_blank">尝试一下 »</a>
</div>
<p>当在控制器中添加 <b>$scope</b> 
对象时，视图 (HTML) 可以获取了这些属性。</p>
<p>视图中，你不需要添加 <b>$scope</b> 前缀, 只需要添加属性名即可，如： <b>{{carname}}</b>。</p>
<hr/>
<h2>Scope 概述</h2>
<p>AngularJS 应用组成如下：</p>
<ul>
<li>View(视图), 即 HTML。</li>
<li>Model(模型), 当前视图中可用的数据。</li>
<li>Controller(控制器), 即 JavaScript 函数，可以添加或修改属性。
	</li>
</ul>
<p>scope 是模型。</p>
<p>scope 是一个 JavaScript 对象，带有属性和方法，这些属性和方法可以在视图和控制器中使用。</p>
<div class="example">
<h2 class="example">AngularJS 实例</h2> <p>如果你修改了视图，模型和控制器也会相应更新：</p>
<div class="example_code">
<div class="hl-main"><span class="hl-brackets">&lt;</span><span class="hl-reserved">div</span><span class="hl-code"> </span><span class="hl-var">ng-app</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">myApp</span><span class="hl-quotes">"</span><span class="hl-code"> </span><span class="hl-var">ng-controller</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">myCtrl</span><span class="hl-quotes">"</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">input</span><span class="hl-code"> </span><span class="hl-var">ng-model</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">name</span><span class="hl-quotes">"</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">h1</span><span class="hl-brackets">&gt;</span><span class="hl-code">{{greeting}}</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">h1</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">button</span><span class="hl-code"> </span><span class="hl-var">ng-click</span><span class="hl-code">='</span><span class="hl-var">sayHello</span><span class="hl-code">()'</span><span class="hl-brackets">&gt;</span><span class="hl-code">点我</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">button</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">div</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">script</span><span class="hl-brackets">&gt;</span></div><div class="hl-main"><span class="hl-reserved">var</span><span class="hl-code"> </span><span class="hl-identifier">app</span><span class="hl-code"> = </span><span class="hl-identifier">angular</span><span class="hl-code">.</span><span class="hl-identifier">module</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">myApp</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-brackets">[</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">app</span><span class="hl-code">.</span><span class="hl-identifier">controller</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">myCtrl</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">scope</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">name</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">Runoob</span><span class="hl-quotes">"</span><span class="hl-code">;
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">sayHello</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
        $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">greeting</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">Hello </span><span class="hl-quotes">'</span><span class="hl-code"> + $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">name</span><span class="hl-code"> + </span><span class="hl-quotes">'</span><span class="hl-string">!</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;</span></div><div class="hl-main"><span class="hl-brackets">&lt;/</span><span class="hl-reserved">script</span><span class="hl-brackets">&gt;</span></div>
</div><br/>
<a class="tryitbtn" href="/try/try.php?filename=try_ng_scope_sync" target="_blank">尝试一下 »</a>
</div>
<hr/>
<h2>Scope 作用范围</h2>
<p>了解你当前使用的 scope 是非常重要的。</p>
<p>在以上两个实例中，只有一个作用域 scope，所以处理起来比较简单，但在大型项目中， HTML DOM 中有多个作用域，这时你就需要知道你使用的 scope 对应的作用域是哪一个。</p>
<div class="example">
<h2 class="example">AngularJS 实例</h2>
<p>当我们使用 <b>ng-repeat</b> 指令时，每个重复项都访问了当前的重复对象:</p>
<div class="example_code htmlHigh">
<div class="htmlHigh">
<span class="highLT">&lt;</span><span class="highELE">div</span> <span class="highATT">ng-app=</span><span class="highVAL">"myApp"</span> <span class="highATT">ng-controller=</span><span class="highVAL">"myCtrl"</span><span class="highGT">&gt;</span><br/>
<br/><span class="highLT">&lt;</span><span class="highELE">ul</span><span class="highGT">&gt;</span><br/>    <span class="highLT">&lt;</span><span class="highELE">li</span> <span class="highATT">ng-repeat=</span><span class="highVAL">"x in names"</span><span class="highGT">&gt;</span><span class="highATT">{{x}}</span><span class="highLT">&lt;</span><span class="highELE">/li</span><span class="highLT">&gt;</span><br/><span class="highLT">&lt;</span><span class="highELE">/ul</span><span class="highGT">&gt;</span><br/><br/><span class="highLT">&lt;</span><span class="highELE">/div</span><span class="highGT">&gt;</span><br/><br/><span class="highLT">&lt;</span><span class="highELE">script</span><span class="highGT">&gt;</span><br/>
</div>
<div class="jsHigh">
<span class="highELE">var</span> app = angular.module(<span class="highVAL">'myApp'</span>, 
	[]);<br/><br/>app.controller(<span class="highVAL">'myCtrl'</span>, <span class="highELE">function</span>($scope) {<br/>    $scope.names 
	= [<span class="highVAL">"Emil"</span>, <span class="highVAL">"Tobias"</span>, <span class="highVAL">"Linus"</span>];<br/>});<br/>
</div>
<div class="htmlHigh"><span class="highLT">&lt;</span><span class="highELE">/script</span><span class="highGT">&gt;</span></div></div><br/>
<a class="tryitbtn" href="/try/try.php?filename=try_ng_scope_repeat" target="_blank">尝试一下 »</a>
</div>
<p>每个 <b>&lt;li&gt;</b> 元素可以访问当前的重复对象，这里对应的是一个字符串， 并使用变量 <b>x</b> 表示。</p>
<hr/>
<h2>根作用域</h2><p>所有的应用都有一个 <b>$rootScope</b>，它可以作用在 <b>ng-app</b> 指令包含的所有 HTML 元素中。</p>
<p><b>$rootScope</b> 可作用于整个应用中。是各个 controller 中 scope 的桥梁。用 rootscope 定义的值，可以在各个 controller 中使用。</p>
<div class="example">
<h2 class="example">AngularJS 实例</h2>
<p>创建控制器时，将 $rootScope 作为参数传递，可在应用中使用：</p>
<div class="example_code htmlHigh">
<div class="htmlHigh">
<span class="highLT">&lt;</span><span class="highELE">div</span> <span class="highATT">ng-app=</span><span class="highVAL">"myApp"</span> <span class="highATT">ng-controller=</span><span class="highVAL">"myCtrl"</span><span class="highGT">&gt;</span><br/>
<br/><span class="highLT">&lt;</span><span class="highELE">h1</span><span class="highGT">&gt;</span></div></div></div></div>