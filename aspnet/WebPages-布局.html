<div class="article-intro" id="content">
<h1>ASP.NET Web Pages <span class="color_h1">- 页面布局</span>
</h1>
<hr/>
<p class="intro">通过 Web Pages ，创建一个布局一致的网站是很容易的事。</p>
<hr/>
<h2>一致的外观</h2>
<p>在因特网上，您会发现很多网站都具有一致的外观和风格：</p>
<ul>
<li>每个页面有相同的头部</li>
<li>每个页面有相同的底部</li>
<li>每个页面有相同的样式和布局</li>
</ul>
<p>通过 Web Pages ，您能非常高效地做到这点。您可以把重复使用的内容块（比如页面头部和底部）写在一个单独的文件中。</p>
<p>您还可以使用布局模板（布局文件）为站点的所有网页定义一致的布局。</p>
<hr/>
<h2>Content Blocks（内容块）</h2>
<p>许多网站都有一些内容是被显示在站点的每个页面中（比如页面头部和底部）。</p>
<p>通过 Web Pages，您可以使用 <b>@RenderPage()</b> 方法从不同的文件导入内容。</p>
<p>内容块（来自另一个文件）能被导入网页中的任何地方。内容块可以包含文本，标记和代码，就像任何普通的网页一样。</p>
<p>将共同的头部和底部写成单独的文件，这样会帮您节省大量的工作。您不必在每个页面中书写相同的内容，当内容有变动时，您只要修改头部或者底部文件，就可以看到站点中的每个页面的相应内容都已更新。</p>
<p>以下显示了它在代码中是如何呈现的：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
&lt;html&gt;<br/>
&lt;body&gt;<br/><span class="marked">@RenderPage("header.cshtml")</span><br/>
&lt;h1&gt;Hello Web Pages&lt;/h1&gt; <br/>
&lt;p&gt;This is a paragraph&lt;/p&gt;<br/><span class="marked">@RenderPage("footer.cshtml")</span><br/>
&lt;/body&gt;<br/>
&lt;/html&gt;</div>
<br/><a class="showbtn" href="/try/showfile_c.php?filename=try_webpages_cs_002" target="_blank">运行实例 »</a>
</div>
<br/><hr/>
<h2>Layout Page（布局页）</h2>
<p>在上一部分，您看到了，想在多个网页中显示相同内容是非常容易的。</p>
<p>另一种创建一致外观的方法是使用布局页。一个布局页包含了网页的结构，而不是内容。当一个网页（内容页）链接到布局页，它会根据布局页（模板）的结构进行显示。</p>
<p>布局页中使用 <strong>@RenderBody()</strong> 方法嵌入内容页，除此之外，它与一个正常的网页没有什么差别。</p>
<p>每个内容页都必须以<strong>布局指令</strong>开始。</p>
<p>以下显示了它在代码中是如何呈现的：</p>
<div class="example">
<h2 class="example">布局页：</h2>
<div class="example_code notranslate">
&lt;html&gt;<br/>&lt;body&gt;<br/>&lt;p&gt;This is header text&lt;/p&gt;<br/><span class="marked">@RenderBody()</span><br/>
&lt;p&gt;&amp;copy; 2012 Runoob. All rights reserved.&lt;/p&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;
</div>
<br/><h2 class="example">任何网页：</h2>
<div class="example_code notranslate">
<span class="marked">@{Layout="Layout.cshtml";}</span><br/><br/>&lt;h1&gt;Welcome to Runoob.com&lt;/h1&gt;<br/><br/>&lt;p&gt;<br/>Lorem ipsum dolor sit amet, consectetur adipisicing elit,sed do eiusmod tempor 
incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis 
nostrud exercitation ullamco laborisnisi ut aliquip ex ea commodo consequat.<br/>&lt;/p&gt;
</div>
<br/><a class="showbtn" href="/try/showfile_c.php?filename=try_webpages_cs_011" target="_blank">运行实例 »</a>
</div>
<br/><hr/>
<h2>D.R.Y. - Don't Repeat Yourself（不要自我重复）</h2>
<p>通过 Content Blocks（内容块）和 Layout Pages（布局页）这两个 ASP.NET 工具，您可以让您的 Web 应用程序显示一致的外观。</p>
<p>这两个工具能帮您节省大量的工作，您不必再每个页面上重复相同的信息。集中的标记、样式和代码让您的 Web 应用程序更易于管理，更易于维护。</p>
<hr/>
<h2>防止文件被浏览</h2>
<p>在 ASP.NET 中，文件的名称以下划线开头，可以防止这些文件在网上被浏览。</p>
<p>如果您不想让您的内容块或者布局页被您的用户看到，可以重命名这些文件：</p>
<p>_header.cshtm</p>
<p>_footer.cshtml</p>
<p>_Layout.cshtml</p>
<hr/>
<h2>隐藏敏感信息</h2>
<p>在 ASP.NET 中，隐藏敏感信息（数据库密码、电子邮件密码等等）最通用的方法是将这些信息保存在一个名为"_AppStart"的单独的文件中。</p>
<div class="example">
<h2 class="example">_AppStart.cshtml</h2>
<div class="example_code notranslate">
@{<br/>WebMail.SmtpServer = "mailserver.example.com";<br/>
WebMail.EnableSsl = true;<br/>WebMail.UserName = "username@example.com";<br/>
WebMail.Password = "your-password";<br/>WebMail.From = "your-name-here@example.com";<br/>
}
</div>
</div>
<br/><br/>
</div>