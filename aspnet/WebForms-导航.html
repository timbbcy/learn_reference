<div class="article-intro" id="content">
<h1>ASP.NET Web Forms <span class="color_h1">- 导航</span>
</h1>
<hr/>
<p class="intro">ASP.NET 带有内建的导航控件。</p>
<hr/>
<h2>网站导航</h2>
<p>维护大型网站的菜单是困难而且费时的。</p>
<p>在 ASP.NET 中，菜单可存储在文件中，这样易于维护。文件通常名为 <b>web.sitemap</b>，并且被存放在网站的根目录下。</p>
<p>此外，ASP.NET 有三个心的导航控件：</p>
<ul>
<li>Dynamic menus</li>
<li>TreeViews</li>
<li>Site Map Path</li>
</ul>
<hr/>
<h2>Sitemap 文件</h2>
<p>在本教程中，使用下面的 sitemap 文件：</p>
<div class="code notranslate"><div>

&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;<br/>
&lt;siteMap&gt;<br/>
   
  &lt;siteMapNode title="Home" url="/aspnet/w3home.aspx"&gt;<br/>
     
  &lt;siteMapNode title="Services" url="/aspnet/w3services.aspx"&gt;<br/>
         
    &lt;siteMapNode title="Training" url="/aspnet/w3training.aspx"/&gt;<br/>
         
    &lt;siteMapNode title="Support" url="/aspnet/w3support.aspx"/&gt;<br/>
     
  &lt;/siteMapNode&gt;<br/>
   
  &lt;/siteMapNode&gt;<br/>
&lt;/siteMap&gt;</div></div>
<p>创建 sitemap 文件的规则：</p>
<ul>
<li>XML 文件必须包含 围绕内容的 &lt;siteMap&gt; 标签</li>
<li>&lt;siteMap&gt; 标签只能有一个 &lt;siteMapNode&gt; 子节点（ "home" 页面）</li>
<li>每个 &lt;siteMapNode&gt; 可以有多个子节点（网页）</li>
<li>每个 &lt;siteMapNode&gt; 带有定义页面标题和 URL 的属性</li>
</ul>
<p><img alt="lamp" height="15" src="/images/lamp.gif" width="15"/><b>注释：</b>sitemap 文件必须位于站点根目录下，URL 属性必须相对于该根目录。</p>
<hr/>
<h2>动态菜单</h2>
<p>&lt;asp:Menu&gt; 控件可显示标准的站点导航菜单。</p>
<p><b>代码实例：</b></p>
<div class="code notranslate"><div>

&lt;asp:SiteMapDataSource id="nav1" runat="server" /&gt;<br/><br/>
&lt;form runat="server"&gt;<br/>
&lt;asp:Menu runat="server" DataSourceId="nav1" /&gt;<br/>
&lt;/form&gt;</div></div>
<p>上面实例中的 <b>&lt;asp:Menu&gt;</b> 控件是一个供服务器创建导航菜单的占位符。</p>
<p>控件的数据源由 <b>DataSourceId</b> 属性定义。 
<b>id="nav1"</b> 把数据源连接到 <b>&lt;asp:SiteMapDataSource&gt;</b> 控件。</p>
<p><b>&lt;asp:SiteMapDataSource&gt;</b> 控件自动连接默认的 sitemap 文件（<b>web.sitemap</b>）。</p>
<hr/>
<h2>TreeView</h2>
<p>&lt;asp:TreeView&gt; 控件可显示多级导航菜单。</p>
<p>这种菜单看上去像一棵带有枝叶的树，可通过 + 或 - 符号来打开或关闭。</p>
<p><b>代码实例：</b></p>
<div class="code notranslate"><div>

&lt;asp:SiteMapDataSource id="nav1" runat="server" /&gt;<br/><br/>
&lt;form runat="server"&gt;<br/>
&lt;asp:TreeView runat="server" DataSourceId="nav1" /&gt;<br/>
&lt;/form&gt;</div></div>
<p>上面实例中的 <b>&lt;asp:TreeView&gt;</b> 控件是一个供服务器创建导航菜单的占位符。</p>
<p>控件的数据源由 <b>DataSourceId</b> 属性定义。 
<b>id="nav1"</b> 把数据源连接到  <b>&lt;asp:SiteMapDataSource&gt;</b> 控件。</p>
<p><b>&lt;asp:SiteMapDataSource&gt;</b> 控件自动连接默认的 sitemap 文件（<b>web.sitemap</b>）。</p>
<hr/>
<h2>SiteMapPath</h2>
<p>SiteMapPath 控件可显示指向当前页面的指针（导航路径）。该路径显示为指向上级页面的可点击链接。</p>
<p>与 TreeView 和 Menu 控件不同，SiteMapPath 控件<b>不使用</b> SiteMapDataSource。SiteMapPath 控件默认使用 web.sitemap 文件。</p>
<p><img alt="lamp" height="15" src="/images/lamp.gif" width="15"/>提示：如果 SiteMapPath 没有正确显示，很可能是由于 web.sitemap 文件中存在 URL 错误（打印错误）。</p>
<p><b>代码实例：</b></p>
<div class="code notranslate"><div>

&lt;form runat="server"&gt;<br/>
&lt;asp:SiteMapPath runat="server" /&gt;<br/>
&lt;/form&gt;</div></div>
<p>上面实例中的 <b>&lt;asp:SiteMapPath&gt;</b> 控件是一个供服务器创建导航菜单的占位符。</p>
</div>