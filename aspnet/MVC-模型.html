<div class="article-intro" id="content">
<h1>ASP.NET MVC <span class="color_h1">- 模型</span>
</h1>
<hr/>
<p class="intro">为了学习 ASP.NET MVC，我们将构建一个 Internet 应用程序。</p>
<p class="intro">第 7 部分：添加数据模型。</p>
<hr/>
<h2>MVC 模型</h2>
<p>MVC <strong>模型</strong>包含了除纯视图和控制器逻辑以外的其他所有应用程序逻辑（业务逻辑、验证逻辑、数据访问逻辑）。</p>
<p>通过 MVC，模型可以控制并操作应用程序数据。</p>
<hr/>
<h2>Models 文件夹</h2>
<p><strong>Models 文件夹</strong>包含表示应用程序模型的类。</p>
<p>Visual Web Developer 自动创建一个 <strong>AccountModels.cs</strong> 文件，该文件包含用于应用程序安全的模型。</p>
<p><strong>AccountModels</strong> 
包含 <strong>LogOnModel</strong>、<strong>ChangePasswordModel</strong> 和 <strong>RegisterModel</strong>。</p>
<hr/>
<h2>添加数据库模型</h2>
<p>本教程所需的数据库模型可以通过以下几个简单的步骤来创建：</p>
<ul>
<li>在 <strong>Solution Explorer</strong>窗口中，右击 <strong>
	Models</strong> 文件夹，并选择 <strong>Add</strong> 和 <strong>Class</strong>。</li>
<li>将类命名为 <strong>MovieDB.cs</strong>，然后点击 <strong>Add</strong>。</li>
<li>编辑这个类：</li>
</ul>
<div class="code notranslate">
<div class="auto-style1">using System;<br/>using System.Collections.Generic;<br/>
	using System.Linq;<br/>using System.Web;<br/>using System.Data.Entity;<br/><br/>
	namespace MvcDemo.Models<br/>{<br/>public class MovieDB<br/>{<br/>public int ID 
	{ get; set; }<br/>public string Title { get; set; }<br/>public string Director 
	{ get; set; }<br/>public DateTime Date { get; set; }<br/><br/>}<br/>public class 
	MovieDBContext : DbContext<br/>{<br/>public DbSet&lt;MovieDB&gt; Movies { get; set; 
	} <br/>}<br/>}</div>
</div>
<p><strong>注释：</strong></p>
<p>我们特意把模型命名为 "MovieDB"。在上一章中，您已经看到用于数据库表的 "MovieDBs"（以 s 结尾）。这看起来有点奇怪，不过这种命名惯例能确保模型连接上数据库表，您必须这么使用。</p>
<hr/>
<h2>添加数据库控制器</h2>
<p>本教程所需的数据库控制器可以通过以下几个简单的步骤来创建：</p>
<ul>
<li>重建您的项目：选择 <strong>Debug</strong>，然后从菜单中选择 <strong>
	Build MvcDemo</strong>。</li>
<li>在 Solution Explorer（解决方案资源管理器）中，右击 <strong>Controllers</strong> 文件夹，选择 <strong>Add</strong> 和 <strong>Controller</strong>。
</li>
<li>设置控制器名称为 <strong>MoviesController</strong>。
</li>
<li>选择模板：<strong>Controller with read/write actions and views, 
	using Entity Framework</strong>
</li>
<li>选择模型类：<strong>MovieDB (MvcDemo.Models)</strong>
</li>
<li>选择 data context 类：<strong>MovieDBContext (MvcDemo.Models)</strong>
</li>
<li>选择视图 <strong>Razor (CSHTML)</strong>
</li>
<li>点击 <strong>Add</strong>
</li>
</ul>
<p>Visual Web Developer 将创建以下文件：</p>
<ul>
<li><strong>Controllers</strong> 文件夹中的 <strong>MoviesController.cs</strong> 文件 
	</li>
<li><strong>Views</strong> 文件夹中的 <strong>Movies</strong> 文件夹</li>
</ul>
<hr/>
<h2>添加数据库视图</h2>
<p>在 Movies 文件夹中，会自动创建以下文件：</p>
<ul>
<li>Create.cshtml</li>
<li>Delete.cshtml</li>
<li>Details.cshtml</li>
<li>Edit.cshtml</li>
<li>Index.cshtml</li>
</ul>
<hr/>
<h2>祝贺您</h2>
<p>祝贺您。您已经向应用程序添加了您的第一个 MVC 数据模型。</p>
<p>现在您可以点击 "Movies" 标签页了。</p>
<br/>
</div>