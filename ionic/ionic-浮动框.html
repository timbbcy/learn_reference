<div class="article-intro" id="content">
<h1>ionic 浮动框</h1>
<hr/>
<h2>$ionicPopover</h2>
<p>$ionicPopover  是一个可以浮在app内容上的一个视图框。</p>
<p>可以实现以下功能点：</p>
<ul>
<li>在当前页面显示更多信息。</li>
<li>选择一些工具或配置。</li>
<li>在页面提供一个操作列表。</li>
</ul>
<h3>方法</h3>
<pre>
fromTemplate(templateString, options)
或
fromTemplateUrl(templateUrl, options)
</pre>
<p>参数说明：</p>
<p>templateString: 模板字符串。</p>
<p>templateUrl: 载入的模板 URL。</p>
<p>options: 初始化选项。</p>
<h2>实例</h2>
<div class="example">
<h2 class="example">HTML 代码部分</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-brackets">&lt;</span><span class="hl-reserved">p</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">button</span><span class="hl-code"> </span><span class="hl-var">ng-click</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">openPopover($event)</span><span class="hl-quotes">"</span><span class="hl-brackets">&gt;</span><span class="hl-code">打开浮动框</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">button</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">p</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">script</span><span class="hl-code"> </span><span class="hl-var">id</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">my-popover.html</span><span class="hl-quotes">"</span><span class="hl-code"> </span><span class="hl-var">type</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">text/ng-template</span><span class="hl-quotes">"</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">ion-popover-view</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">ion-header-bar</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">h1</span><span class="hl-code"> </span><span class="hl-var">class</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">title</span><span class="hl-quotes">"</span><span class="hl-brackets">&gt;</span><span class="hl-code">我的浮动框标题</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">h1</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">ion-header-bar</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">ion-content</span><span class="hl-brackets">&gt;</span><span class="hl-code">
    Hello!
  </span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">ion-content</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">ion-popover-view</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">script</span><span class="hl-brackets">&gt;</span></div>
</div>
</div>
<div class="example">
<h2 class="example">fromTemplateUrl 方法</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-identifier">angular</span><span class="hl-code">.</span><span class="hl-identifier">module</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">ionicApp</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">ionic</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span><span class="hl-code">
.</span><span class="hl-identifier">controller</span><span class="hl-brackets">(</span><span class="hl-code"> </span><span class="hl-quotes">'</span><span class="hl-string">AppCtrl</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">$scope</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">$ionicPopover</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">$timeout</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">scope</span><span class="hl-code">,$</span><span class="hl-identifier">ionicPopover</span><span class="hl-code">,$</span><span class="hl-identifier">timeout</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span><span class="hl-code">
 
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code"> = $</span><span class="hl-identifier">ionicPopover</span><span class="hl-code">.</span><span class="hl-identifier">fromTemplateUrl</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">my-popover.html</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">scope</span><span class="hl-code">: $</span><span class="hl-identifier">scope</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
 
  </span><span class="hl-comment">//</span><span class="hl-comment"> .fromTemplateUrl() 方法</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">ionicPopover</span><span class="hl-code">.</span><span class="hl-identifier">fromTemplateUrl</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">my-popover.html</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">scope</span><span class="hl-code">: $</span><span class="hl-identifier">scope</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">then</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">popover</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code"> = </span><span class="hl-identifier">popover</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
 
 
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">openPopover</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">event</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code">.</span><span class="hl-identifier">show</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">event</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-code">;
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">closePopover</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> 清除浮动框</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.$</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">$destroy</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code">.</span><span class="hl-identifier">remove</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> 在隐藏浮动框后执行</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.$</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">popover.hidden</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 执行代码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> 移除浮动框后执行</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.$</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">popover.removed</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 执行代码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-brackets">}</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span></div>
</div><br/>
<a class="tryitbtn" href="/try/try.php?filename=ionic_ionicpopover" target="_blank">尝试一下 »</a>
</div>
<p>我们也可以把模板当作一个字符串，使用 .fromTemplate() 方法来实现弹框:</p>
<div class="example">
<h2 class="example">fromTemplate 方法</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-identifier">angular</span><span class="hl-code">.</span><span class="hl-identifier">module</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">ionicApp</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">ionic</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span><span class="hl-code">
.</span><span class="hl-identifier">controller</span><span class="hl-brackets">(</span><span class="hl-code"> </span><span class="hl-quotes">'</span><span class="hl-string">AppCtrl</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">$scope</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">$ionicPopover</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">$timeout</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">scope</span><span class="hl-code">,$</span><span class="hl-identifier">ionicPopover</span><span class="hl-code">,$</span><span class="hl-identifier">timeout</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span><span class="hl-code">
 
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code"> = $</span><span class="hl-identifier">ionicPopover</span><span class="hl-code">.</span><span class="hl-identifier">fromTemplateUrl</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">my-popover.html</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">scope</span><span class="hl-code">: $</span><span class="hl-identifier">scope</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> .fromTemplate() 方法</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-reserved">var</span><span class="hl-code"> </span><span class="hl-identifier">template</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">&lt;ion-popover-view&gt;&lt;ion-header-bar&gt; &lt;h1 class="title"&gt;我的浮动框标题&lt;/h1&gt; &lt;/ion-header-bar&gt; &lt;ion-content&gt; Hello! &lt;/ion-content&gt;&lt;/ion-popover-view&gt;</span><span class="hl-quotes">'</span><span class="hl-code">;
      $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code"> = $</span><span class="hl-identifier">ionicPopover</span><span class="hl-code">.</span><span class="hl-identifier">fromTemplate</span><span class="hl-brackets">(</span><span class="hl-identifier">template</span><span class="hl-code">, </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">scope</span><span class="hl-code">: $</span><span class="hl-identifier">scope</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
 
 
 
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">openPopover</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">event</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code">.</span><span class="hl-identifier">show</span><span class="hl-brackets">(</span><span class="hl-code">$</span><span class="hl-identifier">event</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-code">;
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">closePopover</span><span class="hl-code"> = </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code">.</span><span class="hl-identifier">hide</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> 清除浮动框</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.$</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">$destroy</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    $</span><span class="hl-identifier">scope</span><span class="hl-code">.</span><span class="hl-identifier">popover</span><span class="hl-code">.</span><span class="hl-identifier">remove</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> 在隐藏浮动框后执行</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.$</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">popover.hidden</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 执行代码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-comment">//</span><span class="hl-comment"> 移除浮动框后执行</span><span class="hl-comment"></span><span class="hl-code">
  $</span><span class="hl-identifier">scope</span><span class="hl-code">.$</span><span class="hl-identifier">on</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">popover.removed</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 执行代码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-brackets">}</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span></div>
</div><br/>
<a class="tryitbtn" href="/try/try.php?filename=ionic_ionicpopover1" target="_blank">尝试一下 »</a>
</div>
</div>