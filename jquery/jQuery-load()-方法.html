<div class="article-intro" id="content">
<h1>jQuery - <span class="color_h1">AJAX load() 方法</span>
</h1>
<hr/>
<h2>jQuery load() 方法</h2>
<p>jQuery load() 方法是简单但强大的 AJAX 方法。</p>
<p>load() 方法从服务器加载数据，并把返回的数据放入被选元素中。</p>
<p><b>语法:</b></p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-code">$</span><span class="hl-brackets">(</span><span class="hl-identifier">selector</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">load</span><span class="hl-brackets">(</span><span class="hl-identifier">URL</span><span class="hl-code">,</span><span class="hl-identifier">data</span><span class="hl-code">,</span><span class="hl-identifier">callback</span><span class="hl-brackets">)</span><span class="hl-code">;</span></div>
</div>
</div>
<p>必需的 <i>URL</i> 参数规定您希望加载的 URL。</p>
<p>可选的 <i>data</i> 参数规定与请求一同发送的查询字符串键/值对集合。</p>
<p>可选的 <i>callback</i> 参数是 load() 方法完成后所执行的函数名称。</p>
<p><span class="marked">这是示例文件（"demo_test.txt"）的内容：</span></p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-brackets">&lt;</span><span class="hl-reserved">h2</span><span class="hl-brackets">&gt;</span><span class="hl-code">jQuery AJAX 是个非常棒的功能！</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">h2</span><span class="hl-brackets">&gt;</span><span class="hl-code">
</span><span class="hl-brackets">&lt;</span><span class="hl-reserved">p</span><span class="hl-code"> </span><span class="hl-var">id</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">p1</span><span class="hl-quotes">"</span><span class="hl-brackets">&gt;</span><span class="hl-code">这是段落的一些文本。</span><span class="hl-brackets">&lt;/</span><span class="hl-reserved">p</span><span class="hl-brackets">&gt;</span></div>
</div>
</div>
<p>下面的例子会把文件 "demo_test.txt" 的内容加载到指定的 &lt;div&gt; 元素中：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-code">$</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">#div1</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">load</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">demo_test.txt</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;</span></div>
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjquery_ajax_load" target="_blank">尝试一下 »</a>
</div>
<p>也可以把 jQuery 选择器添加到 URL 参数。</p>
<p>下面的例子把 "demo_test.txt" 文件中 id="p1" 的元素的内容，加载到指定的 &lt;div&gt; 元素中：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-code">$</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">#div1</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">load</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">demo_test.txt #p1</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;</span></div>
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjquery_ajax_load2" target="_blank">尝试一下 »</a>
</div>
<p>可选的 callback 参数规定当 load() 方法完成后所要允许的回调函数。回调函数可以设置不同的参数：</p>
<ul>
<li><i>responseTxt</i> - 包含调用成功时的结果内容</li>
<li><i>statusTXT</i> - 包含调用的状态</li>
<li><i>xhr</i> - 包含 XMLHttpRequest 对象</li>
</ul>
<p>下面的例子会在 load() 方法完成后显示一个提示框。如果 load() 方法已成功，则显示"外部内容加载成功！"，而如果失败，则显示错误消息：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-code">$</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">button</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">click</span><span class="hl-brackets">(</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span><span class="hl-code">
  $</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">#div1</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-identifier">load</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">demo_test.txt</span><span class="hl-quotes">"</span><span class="hl-code">,</span><span class="hl-reserved">function</span><span class="hl-brackets">(</span><span class="hl-identifier">responseTxt</span><span class="hl-code">,</span><span class="hl-identifier">statusTxt</span><span class="hl-code">,</span><span class="hl-identifier">xhr</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">statusTxt</span><span class="hl-code">==</span><span class="hl-quotes">"</span><span class="hl-string">success</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">alert</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">外部内容加载成功!</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-identifier">statusTxt</span><span class="hl-code">==</span><span class="hl-quotes">"</span><span class="hl-string">error</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">alert</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">Error: </span><span class="hl-quotes">"</span><span class="hl-code">+</span><span class="hl-identifier">xhr</span><span class="hl-code">.</span><span class="hl-identifier">status</span><span class="hl-code">+</span><span class="hl-quotes">"</span><span class="hl-string">: </span><span class="hl-quotes">"</span><span class="hl-code">+</span><span class="hl-identifier">xhr</span><span class="hl-code">.</span><span class="hl-identifier">statusText</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-brackets">)</span><span class="hl-code">;</span></div>
</div><br/>
<a class="tryitbtn" href="/try/try.php?filename=tryjquery_ajax_load_callback" target="_blank">尝试一下 »</a>
</div>
</div>