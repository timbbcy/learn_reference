<div class="article-intro" id="content">
<h1>MongoDB 索引限制</h1>
<hr/>
<h2>额外开销</h2>
<p> 
每个索引占据一定的存储空间，在进行插入，更新和删除操作时也需要对索引进行操作。所以，如果你很少对集合进行读取操作，建议不使用索引。
</p>
<hr/>
<h2>内存(RAM)使用</h2>
<p>
由于索引是存储在内存(RAM)中,你应该确保该索引的大小不超过内存的限制。</p>
<p>如果索引的大小大于内存的限制，MongoDB会删除一些索引，这将导致性能下降。</p>
<hr/>
<h2>查询限制</h2>
<p>索引不能被以下的查询使用：</p>
<ul>
<li>正则表达式及非操作符，如 $nin, $not, 等。</li>
<li>算术运算符，如 $mod, 等。</li>
<li>$where 子句</li>
</ul>
<p>所以，检测你的语句是否使用索引是一个好的习惯，可以用explain来查看。</p>
<hr/>
<h2>索引键限制</h2>
<p>从2.6版本开始，如果现有的索引字段的值超过索引键的限制，MongoDB中不会创建索引。
</p>
<hr/>
<h2>插入文档超过索引键限制</h2>
<p>如果文档的索引字段值超过了索引键的限制，MongoDB不会将任何文档转换成索引的集合。与mongorestore和mongoimport工具类似。</p>
<hr/>
<h2>最大范围</h2>
<ul>
<li>集合中索引不能超过64个</li><li>
索引名的长度不能超过128个字符 </li><li>
一个复合索引最多可以有31个字段</li></ul>
</div>