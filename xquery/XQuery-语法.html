<div class="article-intro" id="content">
<h1>XQuery <span class="color_h1">语法</span>
</h1>
<hr/>
<p class="intro">XQuery 对大小写敏感，XQuery 的元素、属性以及变量必须是合法的 XML 名称。</p>
<hr/>
<h2>XQuery 的基础语法规则：</h2>
<p>一些基本的语法规则：</p>
<ul>
<li>XQuery 对大小写敏感</li>
<li>XQuery 的元素、属性以及变量必须是合法的 XML 名称。</li>
<li>XQuery 字符串值可使用单引号或双引号。</li>
<li>XQuery 变量由 "$" 并跟随一个名称来进行定义，举例，$bookstore</li>
<li>XQuery 注释被 (: 和 :) 分割，例如，(: XQuery 注释 :)</li>
</ul>
<hr/>
<h2>XQuery 条件表达式</h2>
<p>"If-Then-Else" 可以在 XQuery 中使用。</p>
<p>请看下面的例子：</p>
<div class="code notranslate"><div>

for $x in doc("books.xml")/bookstore/book<br/>
return	<span class="marked">if (</span>$x/@category="CHILDREN"<span class="marked">)</span><br/><span class="marked">then</span> &lt;child&gt;{data($x/title)}&lt;/child&gt;<br/><span class="marked">else</span> &lt;adult&gt;{data($x/title)}&lt;/adult&gt;
</div></div>
<p>请注意 "If-Then-Else" 的语法：if 表达式后的圆括号是必需的。else 也是必需的，不过只写 "else ()" 也可以。</p>
<p>上面的例子的结果：</p>
<div class="code notranslate"><div>

&lt;adult&gt;Everyday Italian&lt;/adult&gt;<br/>
&lt;child&gt;Harry Potter&lt;/child&gt;<br/>
&lt;adult&gt;Learning XML&lt;/adult&gt;<br/>
&lt;adult&gt;XQuery Kick Start&lt;/adult&gt;
</div></div>
<br/><hr/>
<h2>XQuery 比较</h2>
<p>在 XQuery 中，有两种方法来比较值。</p>
<ol>
<li>通用比较：=, !=, &lt;, &lt;=, &gt;, &gt;=</li>
<li>值的比较：eq、ne、lt、le、gt、ge</li>
</ol>
<h3>这两种比较方法的差异如下：</h3>
<p>请看下面的 XQuery 表达式：</p>
<div class="code notranslate"><div>
$bookstore//book/@q &gt; 10
</div></div><p>如果 q 属性的值大于 10，上面的表达式的返回值为 true。</p>
<p>如下实例，如果仅返回一个 q，且它的值大于 10，那么表达式返回 true。如果不止一个 q 被返回，则会发生错误：</p>
<div class="code notranslate"><div>
$bookstore//book/@q gt 10
</div></div>
</div>