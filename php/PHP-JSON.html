<div class="article-intro" id="content">
<h1>PHP JSON</h1>
<p>本章节我们将为大家介绍如何使用 PHP 语言来编码和解码 JSON 对象。</p>
<hr/>
<h2>环境配置</h2>
<p>在 php5.2.0 及以上版本已经内置 JSON 扩展。</p>
<hr/>
<h2>JSON 函数</h2>
<table class="reference">
<tbody><tr><th style="width:20%">函数</th><th>描述</th></tr>
<tr><td>json_encode </td><td>对变量进行 JSON 编码</td></tr>
<tr><td>json_decode</td><td>对 JSON 格式的字符串进行解码，转换为 PHP 变量 </td></tr>
<tr><td>json_last_error</td><td> 返回最后发生的错误</td></tr>
</tbody></table>
<hr/>
<h2>
json_encode</h2>
<p>PHP json_encode() 用于对变量进行 JSON 编码，该函数如果执行成功返回 JSON  数据，否则返回 FALSE 。</p>
<h3>语法</h3>
<pre>string json_encode ( $value [, $options = 0 ] )</pre>
<h3>参数</h3>
<ul>
<li><b>value</b>: 要编码的值。该函数只对 UTF-8 编码的数据有效。</li>
<li><b>options</b>:由以下常量组成的二进制掩码：JSON_HEX_QUOT, JSON_HEX_TAG, JSON_HEX_AMP, JSON_HEX_APOS, JSON_NUMERIC_CHECK,JSON_PRETTY_PRINT, JSON_UNESCAPED_SLASHES, JSON_FORCE_OBJECT</li>
</ul>
<h3>实例</h3>
<p>以下实例演示了如何将 PHP 数组转换为 JSON 格式数据：</p>
<pre>
&lt;?php
   $arr = array('a' =&gt; 1, 'b' =&gt; 2, 'c' =&gt; 3, 'd' =&gt; 4, 'e' =&gt; 5);
   echo json_encode($arr);
?&gt;
</pre>
<p>以上代码执行结果为：</p>
<pre>
{"a":1,"b":2,"c":3,"d":4,"e":5}
</pre>
<p>以下实例演示了如何将 PHP 对象转换为 JSON 格式数据：</p>
<pre>
&lt;?php
   class Emp {
       public $name = "";
       public $hobbies  = "";
       public $birthdate = "";
   }
   $e = new Emp();
   $e-&gt;name = "sachin";
   $e-&gt;hobbies  = "sports";
   $e-&gt;birthdate = date('m/d/Y h:i:s a', "8/5/1974 12:20:03 p");
   $e-&gt;birthdate = date('m/d/Y h:i:s a', strtotime("8/5/1974 12:20:03"));

   echo json_encode($e);
?&gt;
</pre>
<p>以上代码执行结果为：</p>
<pre>
{"name":"sachin","hobbies":"sports","birthdate":"08\/05\/1974 12:20:03 pm"}
</pre>
<hr/>
<h2>json_decode</h2>
<p>PHP json_decode() 函数用于对 JSON 格式的字符串进行解码，并转换为 PHP 变量。</p>
<h3>语法</h3>
<pre>
mixed json_decode ($json_string [,$assoc = false [, $depth = 512 [, $options = 0 ]]])
</pre>
<h3>参数</h3>
<ul>
<li><p><b>json_string</b>: 待解码的 JSON 字符串，必须是 UTF-8 编码数据</p></li>
<li><p><b>assoc</b>: 当该参数为 TRUE 时，将返回数组，FALSE 时返回对象。</p></li>
<li><p><b>depth</b>: 整数类型的参数，它指定递归深度</p></li>
<li><p><b>options</b>: 二进制掩码，目前只支持 JSON_BIGINT_AS_STRING 。</p></li>
</ul>
<h3>实例</h3>
<p>以下实例演示了如何解码 JSON 数据：</p>
<pre>
&lt;?php
   $json = '{"a":1,"b":2,"c":3,"d":4,"e":5}';

   var_dump(json_decode($json));
   var_dump(json_decode($json, true));
?&gt;
</pre>
<p>以上代码执行结果为：</p>
<pre>
object(stdClass)#1 (5) {
    ["a"] =&gt; int(1)
    ["b"] =&gt; int(2)
    ["c"] =&gt; int(3)
    ["d"] =&gt; int(4)
    ["e"] =&gt; int(5)
}

array(5) {
    ["a"] =&gt; int(1)
    ["b"] =&gt; int(2)
    ["c"] =&gt; int(3)
    ["d"] =&gt; int(4)
    ["e"] =&gt; int(5)
}
</pre>
</div>