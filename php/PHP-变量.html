<div class="article-intro" id="content">
<h1>PHP <span class="color_h1">变量</span>
</h1>
<hr/>
<p class="intro">变量是用于存储信息的"容器"：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$x</span><span class="hl-code">=</span><span class="hl-number">5</span><span class="hl-code">;
</span><span class="hl-var">$y</span><span class="hl-code">=</span><span class="hl-number">6</span><span class="hl-code">;
</span><span class="hl-var">$z</span><span class="hl-code">=</span><span class="hl-var">$x</span><span class="hl-code">+</span><span class="hl-var">$y</span><span class="hl-code">;
</span><span class="hl-reserved">echo</span><span class="hl-code"> </span><span class="hl-var">$z</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></div>
</div>
<br/><a class="showbtn" href="/try/showphp.php?filename=demo_var1" target="_blank">运行实例 »</a>
</div>
<hr/>
<h2>与代数类似</h2>
<p>x=5<br/>
y=6<br/>
z=x+y</p>
<p>在代数中，我们使用字母（如 x），并给它赋值（如 5）。</p>
<p>从上面的表达式 z=x+y ，我们可以计算出 z 的值为 11。</p>
<p>在 PHP 中，这些字母被称为<b>变量</b>。</p>
<table class="lamp"><tr>
<th width="34"><img alt="lamp" height="32" src="/images/lamp.jpg" width="32"/></th>
<td>变量是用于存储数据的容器。</td>
</tr></table>
<br/><hr/>
<h2>PHP 变量</h2>
<p>与代数类似，可以给 PHP 变量赋予某个值（x=5）或者表达式（z=x+y）。</p>
<p>变量可以是很短的名称（如 x 和 y）或者更具描述性的名称（如 age、carname、totalvolume）。</p>
<p>PHP 变量规则：</p>
<ul>
<li>变量以 $ 符号开始，后面跟着变量的名称</li>
<li>变量名必须以字母或者下划线字符开始</li>
<li>变量名只能包含字母数字字符以及下划线（A-z、0-9 和 _ ）</li>
<li>变量名不能包含空格</li>
<li>变量名是区分大小写的（$y 和 $Y 是两个不同的变量）</li>
</ul>
<table class="lamp"><tr>
<th width="34"><img alt="lamp" height="32" src="/images/lamp.jpg" width="32"/></th>
<td>PHP 语句和 PHP 变量都是区分大小写的。</td>
</tr></table>
<hr/>
<h2>创建（声明）PHP 变量</h2>
<p>PHP 没有声明变量的命令。</p>
<p>变量在您第一次赋值给它的时候被创建：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$txt</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">Hello world!</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-var">$x</span><span class="hl-code">=</span><span class="hl-number">5</span><span class="hl-code">;
</span><span class="hl-var">$y</span><span class="hl-code">=</span><span class="hl-number">10</span><span class="hl-number">.5</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></div>
</div>
<br/><a class="showbtn" href="/try/showphp.php?filename=demo_var2" target="_blank">运行实例 »</a>
</div>
<p>在上面的语句执行中，变量 <b>txt</b> 将保存值 <b>Hello world!</b>，且变量 <strong>x</strong> 将保存值 <strong>5</strong>。</p>
<p><b>注释：</b>当您赋一个文本值给变量时，请在文本值两侧加上引号。</p>
<hr/>
<h2>PHP 是一门弱类型语言</h2>
<p>在上面的实例中，我们注意到，不必向 PHP 声明该变量的数据类型。</p>
<p>PHP 会根据变量的值，自动把变量转换为正确的数据类型。</p>
<p>在强类型的编程语言中，我们必须在使用变量前先声明（定义）变量的类型和名称。</p>
<hr/>
<h2>PHP 变量作用域</h2>
<p>变量的作用域是脚本中变量可被引用/使用的部分。</p>
<p>PHP 有四种不同的变量作用域：</p>
<ul>
<li>local</li>
<li>global</li>
<li>static</li>
<li>parameter</li>
</ul>
<hr/>
<h2>局部和全局作用域</h2>
<p>
在所有函数外部定义的变量，拥有全局作用域。除了函数外，全局变量可以被脚本中的任何部分访问，要在一个函数中访问一个全局变量，需要使用 global 关键字。
</p><p>
在 PHP 函数内部声明的变量是局部变量，仅能在函数内部访问：
</p>
<div class="example"><h2 class="example">实例</h2><div class="example_code"><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$x</br></span><span style="color: #007700">=</span><span style="color: #0000BB">5</span><span style="color: #007700">; </span><span style="color: #FF8000">// 全局变量<br> <br/></br></span><span style="color: #007700">function </span><span style="color: #0000BB">myTest</span><span style="color: #007700">()<br>{<br>    </br></br></span><span style="color: #0000BB">$y</span><span style="color: #007700">=</span><span style="color: #0000BB">10</span><span style="color: #007700">; </span><span style="color: #FF8000">// 局部变量<br>    </br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"&lt;p&gt;测试函数内变量:&lt;p&gt;"</span><span style="color: #007700">;<br>    echo </br></span><span style="color: #DD0000">"变量 x 为: </span><span style="color: #0000BB">$x</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>    echo </br></span><span style="color: #DD0000">"&lt;br&gt;"</span><span style="color: #007700">;<br>    echo </br></span><span style="color: #DD0000">"变量 y 为: </span><span style="color: #0000BB">$y</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>} <br> <br/></br></br></span><span style="color: #0000BB">myTest</span><span style="color: #007700">();<br/> <br/>echo </span><span style="color: #DD0000">"&lt;p&gt;测试函数外变量:&lt;p&gt;"</span><span style="color: #007700">;<br/>echo </span><span style="color: #DD0000">"变量 x 为: </span><span style="color: #0000BB">$x</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br/>echo </span><span style="color: #DD0000">"&lt;br&gt;"</span><span style="color: #007700">;<br/>echo </span><span style="color: #DD0000">"变量 y 为: </span><span style="color: #0000BB">$y</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br/></span><span style="color: #0000BB">?&gt;</span>
</span>
</div><br/><a class="showbtn" href="/try/showphp.php?filename=demo_var_local&amp;type=php" target="_blank">运行实例 »</a></div>
<p>
在以上实例中 myTest() 函数定义了 $x 和 $y 变量。
$x 变量在函数外声明，所以它是全局变量
， $y 变量在函数内声明所以它是局部变量。</p><p>
当我们调用myTest()函数并输出两个变量的值,
函数将会输出局部变量 $y 的值，但是不能输出 $x 的值，因为 $x 变量在函数外定义，无法在函数内使用，如果要在一个函数中访问一个全局变量，需要使用 global 关键字。
</p><p>
然后我们在myTest()函数外输出两个变量的值，函数将会输出全局部变量 $x 的值，但是不能输出 $y 的值，因为 $y 变量在函数中定义，属于局部变量。</p>
<table class="lamp"><tbody><tr>
<th style="width:34px"><img alt="Note" src="/images/lamp.jpg" style="height:32px;width:32px"/></th>
<td>你可以在不同函数中使用相同的变量名称，因为这些函数内定义的变量名是局部变量，只作用于该函数内。</td>
</tr></tbody></table>
<hr/><h2>
PHP  global 关键字</h2><p>
 global 关键字用于函数内访问全局变量。</p>
<p>在函数内调用函数外定义的全局变量，我们需要在函数中的变量前加上 global 关键字：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$x</span><span class="hl-code">=</span><span class="hl-number">5</span><span class="hl-code">;
</span><span class="hl-var">$y</span><span class="hl-code">=</span><span class="hl-number">10</span><span class="hl-code">;
 
</span><span class="hl-reserved">function</span><span class="hl-code"> </span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">global</span><span class="hl-code"> </span><span class="hl-var">$x</span><span class="hl-code">,</span><span class="hl-var">$y</span><span class="hl-code">;
    </span><span class="hl-var">$y</span><span class="hl-code">=</span><span class="hl-var">$x</span><span class="hl-code">+</span><span class="hl-var">$y</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-reserved">echo</span><span class="hl-code"> </span><span class="hl-var">$y</span><span class="hl-code">; </span><span class="hl-comment">//</span><span class="hl-comment"> 输出 15</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-inlinetags">?&gt;</span></div>
</div>
<br/><a class="showbtn" href="/try/showphp.php?filename=demo_var_global" target="_blank">运行实例 »</a>
</div>
<p>PHP 将所有全局变量存储在一个名为 $GLOBALS[<i>index</i>] 的数组中。 
<em>index</em> 保存变量的名称。这个数组可以在函数内部访问，也可以直接用来更新全局变量。</p>
<p>上面的实例可以写成这样：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-var">$x</span><span class="hl-code">=</span><span class="hl-number">5</span><span class="hl-code">;
</span><span class="hl-var">$y</span><span class="hl-code">=</span><span class="hl-number">10</span><span class="hl-code">;
 
</span><span class="hl-reserved">function</span><span class="hl-code"> </span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-var">$GLOBALS</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">y</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">=</span><span class="hl-var">$GLOBALS</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">x</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">+</span><span class="hl-var">$GLOBALS</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">y</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-reserved">echo</span><span class="hl-code"> </span><span class="hl-var">$y</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></div>
</div>
<br/><a class="showbtn" href="/try/showphp.php?filename=demo_var_global2" target="_blank">运行实例 »</a>
</div>
<br/><hr/>
<h2>Static 作用域</h2>
<p>当一个函数完成时，它的所有变量通常都会被删除。然而，有时候您希望某个局部变量不要被删除。</p>
<p>要做到这一点，请在您第一次声明变量时使用 <b>static</b> 关键字：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-reserved">function</span><span class="hl-code"> </span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">static</span><span class="hl-code"> </span><span class="hl-var">$x</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">;
    </span><span class="hl-reserved">echo</span><span class="hl-code"> </span><span class="hl-var">$x</span><span class="hl-code">;
    </span><span class="hl-var">$x</span><span class="hl-code">++;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></div>
</div>
<br/><a class="showbtn" href="/try/showphp.php?filename=demo_var_static" target="_blank">运行实例 »</a>
</div>
<p>然后，每次调用该函数时，该变量将会保留着函数前一次被调用时的值。</p>
<p><b>注释：</b>该变量仍然是函数的局部变量。</p>
<hr/>
<h2>参数作用域</h2>
<p>参数是通过调用代码将值传递给函数的局部变量。</p>
<p>参数是在参数列表中声明的，作为函数声明的一部分：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-inlinetags">&lt;?php</span><span class="hl-code">
</span><span class="hl-reserved">function</span><span class="hl-code"> </span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-var">$x</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">echo</span><span class="hl-code"> </span><span class="hl-var">$x</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">myTest</span><span class="hl-brackets">(</span><span class="hl-number">5</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-inlinetags">?&gt;</span></div>
</div>
</div>
<p>我们将在 <a href="php-functions.html">PHP 函数</a> 章节对它做更详细的讨论。</p>
</div>