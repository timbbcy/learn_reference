<div class="article-intro" id="content">
<h1>SQL <span class="color_h1">Date</span> 函数</h1>
<hr/>
<h2>SQL 日期（Dates）</h2>
<p><img alt="Note" src="/images/lamp.gif"/>当我们处理日期时，最难的任务恐怕是确保所插入的日期的格式，与数据库中日期列的格式相匹配。</p>
<p>只要您的数据包含的只是日期部分，运行查询就不会出问题。但是，如果涉及时间部分，情况就有点复杂了。</p>
<p>在讨论日期查询的复杂性之前，我们先来看看最重要的内建日期处理函数。</p>
<hr/>
<h2>MySQL Date 函数</h2>
<p>下面的表格列出了 MySQL 中最重要的内建日期函数：</p>
<table class="reference notranslate">
<tr>
<th align="left" width="22%">函数</th>
<th align="left" width="78%">描述</th>
</tr>
<tr>
<td><a href="func-now.html">NOW()</a></td>
<td>返回当前的日期和时间</td>
</tr>
<tr>
<td><a href="func-curdate.html">CURDATE()</a></td>
<td>返回当前的日期</td>
</tr>
<tr>
<td><a href="func-curtime.html">CURTIME()</a></td>
<td>返回当前的时间</td>
</tr>
<tr>
<td><a href="func-date.html">DATE()</a></td>
<td>提取日期或日期/时间表达式的日期部分</td>
</tr>
<tr>
<td><a href="func-extract.html">EXTRACT()</a></td>
<td>返回日期/时间的单独部分</td>
</tr>
<tr>
<td><a href="func-date-add.html">DATE_ADD()</a></td>
<td>向日期添加指定的时间间隔</td>
</tr>
<tr>
<td><a href="func-date-sub.html">DATE_SUB()</a></td>
<td>从日期减去指定的时间间隔</td>
</tr>
<tr>
<td><a href="func-datediff-mysql.html">DATEDIFF()</a></td>
<td>返回两个日期之间的天数</td>
</tr>
<tr>
<td><a href="func-date-format.html">DATE_FORMAT()</a></td>
<td>用不同的格式显示日期/时间</td>
</tr>
</table>
<br/><hr/>
<h2>SQL Server Date 函数</h2>
<p>下面的表格列出了 SQL Server 中最重要的内建日期函数：</p>
<table class="reference notranslate">
<tr>
<th align="left" width="22%">函数</th>
<th align="left" width="78%">描述</th>
</tr>
<tr>
<td><a href="func-getdate.html">GETDATE()</a></td>
<td>返回当前的日期和时间</td>
</tr>
<tr>
<td><a href="func-datepart.html">DATEPART()</a></td>
<td>返回日期/时间的单独部分</td>
</tr>
<tr>
<td><a href="func-dateadd.html">DATEADD()</a></td>
<td>在日期中添加或减去指定的时间间隔</td>
</tr>
<tr>
<td><a href="func-datediff.html">DATEDIFF()</a></td>
<td>返回两个日期之间的时间</td>
</tr>
<tr>
<td><a href="func-convert.html">CONVERT()</a></td>
<td>用不同的格式显示日期/时间</td>
</tr>
</table>
<br/><hr/>
<h2>SQL Date 数据类型</h2>
<p><b>MySQL</b> 使用下列数据类型在数据库中存储日期或日期/时间值：</p>
<ul>
<li>DATE - 格式：YYYY-MM-DD</li>
<li>DATETIME - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>YEAR - 格式：YYYY 或 YY</li>
</ul>
<p><b>SQL Server</b> 使用下列数据类型在数据库中存储日期或日期/时间值：</p>
<ul>
<li>DATE - 格式：YYYY-MM-DD</li>
<li>DATETIME - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>SMALLDATETIME - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP - 格式：唯一的数字</li>
</ul>
<p><b>注释：</b>当您在数据库中创建一个新表时，需要为列选择数据类型！</p>
<p>如需了解所有可用的数据类型，请访问我们完整的 <a href="sql-datatypes.html">数据类型参考手册</a>。</p>
<hr/>
<h2>SQL 日期处理</h2>
<p><img alt="Note" src="/images/lamp.gif"/>如果不涉及时间部分，那么我们可以轻松地比较两个日期！</p>
<p>假设我们有如下的 "Orders" 表：</p>
<table class="reference notranslate">
<tr>
<th align="left" width="20%">OrderId</th>
<th align="left" width="45%">ProductName</th>
<th align="left" width="35%">OrderDate</th>
</tr>
<tr>
<td>1</td>
<td>Geitost</td>
<td>2008-11-11</td>
</tr>
<tr>
<td>2</td>
<td>Camembert Pierrot</td>
<td>2008-11-09</td>
</tr>
<tr>
<td>3</td>
<td>Mozzarella di Giovanni</td>
<td>2008-11-11</td>
</tr>
<tr>
<td>4</td>
<td>Mascarpone Fabioli</td>
<td>2008-10-29</td>
</tr>
</table>
<p>现在，我们希望从上表中选取 OrderDate 为 "2008-11-11" 的记录。</p>
<p>我们使用下面的 SELECT 语句：</p>
<div class="code notranslate"><div>
SELECT * FROM Orders WHERE OrderDate='2008-11-11'</div></div>
<p>结果集如下所示：</p>
<table class="reference notranslate">
<tr>
<th align="left" width="20%">OrderId</th>
<th align="left" width="45%">ProductName</th>
<th align="left" width="35%">OrderDate</th>
</tr>
<tr>
<td>1</td>
<td>Geitost</td>
<td>2008-11-11</td>
</tr>
<tr>
<td>3</td>
<td>Mozzarella di Giovanni</td>
<td>2008-11-11</td>
</tr>
</table>
<p>现在，假设 "Orders" 表如下所示（请注意 "OrderDate" 列中的时间部分）：</p>
<table class="reference notranslate">
<tr>
<th align="left" width="20%">OrderId</th>
<th align="left" width="45%">ProductName</th>
<th align="left" width="35%">OrderDate</th>
</tr>
<tr>
<td>1</td>
<td>Geitost</td>
<td>2008-11-11 13:23:44</td>
</tr>
<tr>
<td>2</td>
<td>Camembert Pierrot</td>
<td>2008-11-09 15:45:21</td>
</tr>
<tr>
<td>3</td>
<td>Mozzarella di Giovanni</td>
<td>2008-11-11 11:12:01</td>
</tr>
<tr>
<td>4</td>
<td>Mascarpone Fabioli</td>
<td>2008-10-29 14:56:59</td>
</tr>
</table>
<p>如果我们使用和上面一样的 SELECT 语句：</p>
<pre>
SELECT * FROM Orders WHERE OrderDate='2008-11-11'

或

SELECT * FROM Orders WHERE OrderDate='2008-11-11 00：00：00'
</pre>
<p>
<p>那么我们将得不到结果！因为表中没有"2008-11-11 00:00:00"日期。如果没有时间部分，默认时间为 00:00:00。</p>
<p><b>提示：</b>如果您希望使查询简单且更易维护，那么请不要在日期中使用时间部分！</p>
<br/>
</p></div>