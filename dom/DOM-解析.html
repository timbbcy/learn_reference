<div class="article-intro" id="content">
<h1>XML DOM <span class="color_h1">解析器</span>
</h1>
<hr/>
<p class="intro">大多数浏览器都内建了供读取和操作 XML 的 XML 解析器。</p>
<p class="intro">解析器把 XML 转换为 JavaScript 可存取的对象（XML DOM）。</p>
<hr/>
<h2>XML 解析器</h2>
<p>XML DOM 包含了遍历 XML 树，访问、插入及删除节点的方法（函数）。</p>
<p>然而，在访问和操作 XML 文档之前，它必须加载到 XML DOM 对象。</p>
<p>XML 解析器读取 XML，并把它转换为 XML DOM 对象，这样才可以使用 JavaScript 访问它。</p>
<p>大多数浏览器有一个内建的 XML 解析器。</p>
<hr/>
<h2>加载 XML 文档</h2>
<p>下面的 JavaScript 片段加载一个 XML 文档（"<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>"）：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">if</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">XMLHttpRequest</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">xhttp</span><span class="hl-code">=</span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">XMLHttpRequest</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">else</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> IE6, IE5 浏览器执行代码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">xhttp</span><span class="hl-code">=</span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">ActiveXObject</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">Microsoft.XMLHTTP</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">xhttp</span><span class="hl-code">.</span><span class="hl-identifier">open</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">GET</span><span class="hl-quotes">"</span><span class="hl-code">,</span><span class="hl-quotes">"</span><span class="hl-string">books.xml</span><span class="hl-quotes">"</span><span class="hl-code">,</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">xhttp</span><span class="hl-code">.</span><span class="hl-identifier">send</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">xmlDoc</span><span class="hl-code">=</span><span class="hl-identifier">xhttp</span><span class="hl-code">.</span><span class="hl-identifier">responseXML</span><span class="hl-code">;</span></div>
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_loadxml" target="_blank">尝试一下 »</a>
</div>
<p><b>代码解释：</b></p>
<ul>
<li>创建一个 XMLHTTP 对象</li>
<li>打开 XMLHTTP 对象</li>
<li>发送一个 XML HTTP 请求到服务器</li>
<li>设置响应为 XML DOM 对象</li>
</ul>
<hr/>
<h2>加载 XML 字符串</h2>
<p>下面的代码加载并解析一个 XML 字符串：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">if</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-builtin">window</span><span class="hl-code">.</span><span class="hl-identifier">DOMParser</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">parser</span><span class="hl-code">=</span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">DOMParser</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-identifier">xmlDoc</span><span class="hl-code">=</span><span class="hl-identifier">parser</span><span class="hl-code">.</span><span class="hl-identifier">parseFromString</span><span class="hl-brackets">(</span><span class="hl-identifier">text</span><span class="hl-code">,</span><span class="hl-quotes">"</span><span class="hl-string">text/xml</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">else</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> Internet Explorer</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">xmlDoc</span><span class="hl-code">=</span><span class="hl-reserved">new</span><span class="hl-code"> </span><span class="hl-identifier">ActiveXObject</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">Microsoft.XMLDOM</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
  </span><span class="hl-identifier">xmlDoc</span><span class="hl-code">.</span><span class="hl-identifier">async</span><span class="hl-code">=</span><span class="hl-reserved">false</span><span class="hl-code">;
  </span><span class="hl-identifier">xmlDoc</span><span class="hl-code">.</span><span class="hl-identifier">loadXML</span><span class="hl-brackets">(</span><span class="hl-identifier">text</span><span class="hl-brackets">)</span><span class="hl-code">; 
</span><span class="hl-brackets">}</span></div>
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_loadxmltext" target="_blank">尝试一下 »</a>
</div>
<p><b>注意：</b>Internet Explorer 使用 loadXML() 方法来解析 XML 字符串，而其他浏览器使用 DOMParser 对象。</p>
<hr/>
<h2>跨域访问</h2>
<p>出于安全原因，现代的浏览器不允许跨域访问。</p>
<p>这意味着，网页以及 XML 文件，它必须位于同一台服务器上尝试加载。</p>
<p>菜鸟教程上的实例中所有打开的 XML 文件都是位于菜鸟教程域上的。</p>
<p>如果您想要在您的网页上使用上面的实例，您加载的 XML 文件必须位于您自己的服务器上。</p>
<br/>
</div>