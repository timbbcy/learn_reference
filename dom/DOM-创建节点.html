<div class="article-intro" id="content">
<h1>XML DOM <span class="color_h1">创建节点</span>
</h1>
<hr/>
<div class="tryit_ex">
<img alt="实例" height="46px" src="/images/tryitimg.gif" width="40"/><h2>尝试一下 - 实例</h2>
</div>
<p>下面的实例使用 XML 文件 <a href="/try/demo_source/books.xml" target="_blank">books.xml</a>。<br/>
函数 <a href="dom-loadxmldoc.html">loadXMLDoc()</a>，位于外部 JavaScript 中，用于加载 XML 文件。</p>
<p><a href="/try/try.php?filename=try_dom_createelement1" target="_blank">创建元素节点</a><br/>
本例使用 createElement() 来创建一个新的元素节点，并使用 appendChild() 把它添加到一个节点中。</p>
<p><a href="/try/try.php?filename=try_dom_createattribute" target="_blank">使用 createAttribute 创建属性节点</a><br/>
本例使用 createAttribute() 来创建一个新的属性节点，并使用 setAttributeNode() 把它插入一个元素中。</p>
<p><a href="/try/try.php?filename=try_dom_createattribute3" target="_blank">使用 setAttribute 创建属性节点</a><br/>
本例使用 setAttribute() 为一个元素创建一个新的属性。</p>
<p><a href="/try/try.php?filename=try_dom_createelement1" target="_blank">创建文本节点</a><br/>
本例使用 createTextNode() 来创建一个新的文本节点，并使用 appendChild() 把它添加到一个元素中。</p>
<p><a href="/try/try.php?filename=try_dom_createcdatasection1" target="_blank">创建 CDATA section 节点</a><br/>
本例使用 createCDATAsection() 来创建一个 CDATA section 节点，并使用 appendChild() 把它添加到一个元素中。</p>
<p><a href="/try/try.php?filename=try_dom_createcomment1" target="_blank">创建注释节点</a><br/>
本例使用 createComment() 来创建一个注释节点，并使用 appendChild() 把它添加到一个元素中。</p>
<hr/>
<h2>创建新的元素节点</h2>
<p>createElement() 方法创建一个新的元素节点：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
xmlDoc=loadXMLDoc("books.xml");<br/><br/>
newel=xmlDoc.createElement("edition");<br/><br/>
x=xmlDoc.getElementsByTagName("book")[0];<br/>
x.appendChild(newel);
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_createelement2" target="_blank">尝试一下 »</a>
</div>
<p>实例解释：</p>
<ol>
<li>使用 <a href="dom-loadxmldoc.html">loadXMLDoc()</a> 把 "<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>" 载入 xmlDoc 中</li>
<li>创建一个新的元素节点 &lt;edition&gt;</li>
<li>向第一个 &lt;book&gt; 元素追加这个元素节点</li>
</ol>
<p>遍历并向所有 &lt;book&gt; 元素添加一个元素：
<a href="/try/try.php?filename=try_dom_createelement" target="_blank">尝试一下</a><br/></p>
<hr/>
<h2>创建新的属性节点</h2>
<p>createAttribute() 用于创建一个新的属性节点：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
xmlDoc=loadXMLDoc("books.xml");<br/><br/>
newatt=xmlDoc.createAttribute("edition");<br/>
newatt.nodeValue="first";<br/><br/>
x=xmlDoc.getElementsByTagName("title");<br/>
x[0].setAttributeNode(newatt);
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_createattribute" target="_blank">尝试一下 »</a>
</div>
<p>实例解释：</p>
<ol>
<li>使用 <a href="dom-loadxmldoc.html">loadXMLDoc()</a> 把 "<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>" 载入 xmlDoc 中</li>
<li>创建一个新的属性节点 "edition"</li>
<li>设置属性节点的值为 "first"</li>
<li>向第一个 &lt;title&gt; 元素添加这个新的属性节点</li>
</ol>
<p>遍历所有的 &lt;title&gt; 元素，并添加一个新的属性节点：
<a href="/try/try.php?filename=try_dom_createattribute2" target="_blank">尝试一下</a></p>
<p><b>注意：</b>如果该属性已存在，则被新属性替代。</p>
<hr/>
<h2>使用 setAttribute() 创建属性</h2>
<p>由于 setAttribute() 方法可以在属性不存在的情况下创建新的属性，我们可以使用这个方法来创建一个新的属性。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
xmlDoc=loadXMLDoc("books.xml");<br/><br/>
x=xmlDoc.getElementsByTagName('book');<br/>
x[0].setAttribute("edition","first");
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_createattribute3" target="_blank">尝试一下 »</a>
</div>
<p>实例解释：</p>
<ol>
<li>使用 <a href="dom-loadxmldoc.html">loadXMLDoc()</a> 把 "<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>" 载入 xmlDoc 中</li>
<li>为第一个 &lt;book&gt; 元素设置（创建）值为 "first" 的 "edition" 属性</li>
</ol>
<p>遍历所有的 &lt;title&gt; 元素并添加一个新属性：
<a href="/try/try.php?filename=try_dom_createattribute4" target="_blank">尝试一下</a></p>
<hr/>
<h2>创建文本节点</h2>
<p>createTextNode() 方法创建一个新的文本节点：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
xmlDoc=loadXMLDoc("books.xml");<br/><br/>
newel=xmlDoc.createElement("edition");<br/>
newtext=xmlDoc.createTextNode("first");<br/>
newel.appendChild(newtext);<br/><br/>
x=xmlDoc.getElementsByTagName("book")[0];<br/>
x.appendChild(newel);
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_createelement1" target="_blank">尝试一下 »</a>
</div>
<p>实例解释：</p>
<ol>
<li>使用 <a href="dom-loadxmldoc.html">loadXMLDoc()</a> 把 "<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>" 载入 xmlDoc 中</li>
<li>创建一个新元素节点 &lt;edition&gt;</li>
<li>创建一个新的文本节点，其文本是 "first"</li>
<li>向这个元素节点追加新的文本节点</li>
<li>向第一个 &lt;book&gt; 元素追加新的元素节点</li>
</ol>
<p>向所有的 &lt;book&gt; 元素添加一个带有文本节点的元素节点：
<a href="/try/try.php?filename=try_dom_createelement" target="_blank">尝试一下</a></p>
<hr/>
<h2>创建 CDATA Section 节点</h2>
<p>createCDATASection() 方法创建一个新的 CDATA section 节点。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
xmlDoc=loadXMLDoc("books.xml");<br/><br/>
newCDATA=xmlDoc.createCDATASection("Special Offer &amp; Book Sale");<br/><br/>
x=xmlDoc.getElementsByTagName("book")[0];<br/>
x.appendChild(newCDATA);
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_createcdatasection1" target="_blank">尝试一下 »</a>
</div>
<p>实例解释：</p>
<ol>
<li>使用 <a href="dom-loadxmldoc.html">loadXMLDoc()</a> 把 "<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>" 载入 xmlDoc 中</li>
<li>创建一个新的 CDATA section 节点</li>
<li>向第一个 &lt;book&gt; 元素追加这个新的 CDATA section 节点</li>
</ol>
<p>遍历并向所有 &lt;book&gt; 元素添加一个 CDATA section：
<a href="/try/try.php?filename=try_dom_createcdatasection" target="_blank">尝试一下</a><br/></p>
<hr/>
<h2>创建注释节点</h2>
<p>createComment() 方法创建一个新的注释节点。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
xmlDoc=loadXMLDoc("books.xml");<br/><br/>
newComment=xmlDoc.createComment("Revised March 2008");<br/><br/>
x=xmlDoc.getElementsByTagName("book")[0];<br/>
x.appendChild(newComment);
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=try_dom_createcomment1" target="_blank">尝试一下 »</a>
</div>
<p>实例解释：</p>
<ol>
<li>使用 <a href="dom-loadxmldoc.html">loadXMLDoc()</a> 把 "<a href="/try/demo_source/books.xml" target="_blank">books.xml</a>" 载入 xmlDoc 中</li>
<li>创建一个新的注释节点</li>
<li>把这个新的注释节点追加到第一个 &lt;book&gt; 元素</li>
</ol>
<p>循环并向所有 &lt;book&gt; 元素添加一个注释节点：
<a href="/try/try.php?filename=try_dom_createcomment" target="_blank">尝试一下</a><br/></p>
<br/>
</div>