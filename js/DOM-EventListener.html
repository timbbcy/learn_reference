<div class="article-intro" id="content">
<h1>JavaScript <span class="color_h1">HTML DOM EventListener</span>
</h1>
<hr/>
<h2> addEventListener() 方法</h2>
<div class="example">
<h2 class="example">实例</h2>
<p>在用户点击按钮时触发监听事件：</p>
<div class="example_code">
	document.getElementById("myBtn").addEventListener("click", displayDate);</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_displaydate" target="_blank">尝试一下 »</a>
</div>
<p> addEventListener() 方法用于向指定元素添加事件句柄。</p>
<p> addEventListener() 方法添加的事件句柄不会覆盖已存在的事件句柄。</p>
<p> 你可以向一个元素添加多个事件句柄。</p>
<p> 你可以向同个元素添加多个同类型的事件句柄，如：两个 "click" 事件。</p>
<p> 你可以向任何 DOM 对象添加事件监听，不仅仅是 HTML 元素。如： window 对象。</p>
<p> addEventListener() 方法可以更简单的控制事件（冒泡与捕获）。</p>
<p> 当你使用 addEventListener() 方法时,  JavaScript 从 HTML 标记中分离开来，可读性更强， 在没有控制HTML标记时也可以添加事件监听。</p>
<p> 你可以使用 removeEventListener() 方法来移除事件的监听。<br/></p>
<hr/>
<h2>语法</h2>
<div class="code"><div>
<em>element</em>.addEventListener(<em>event, function, useCapture</em>);</div></div>
<p> 第一个参数是事件的类型 (如 "click" 或 "mousedown"). </p>
<p> 第二个参数是事件触发后调用的函数。 </p>
<p> 第三个参数是个布尔值用于描述事件是冒泡还是捕获。该参数是可选的。</p>
<table class="lamp"><tr>
<th style="width:34px"><img alt="Note" src="/images/lamp.jpg" style="height:32px;width:32px"/></th>
<td>注意:不要使用 "on" 前缀。 例如，使用 "click" ,而不是使用 "onclick"。 </td>
</tr></table>
<br/><hr/>
<h2>向原元素添加事件句柄</h2>
<div class="example">
<h2 class="example">实例</h2>
<p>当用户点击元素时弹出 "Hello World!" :</p>
<div class="example_code">
<em>element</em>.addEventListener("click", function(){ alert("Hello World!"); });</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_add" target="_blank">尝试一下 »</a>
</div>
<p>你可以使用函数名，来引用外部函数:</p>
<div class="example">
<h2 class="example">实例</h2>
<p>当用户点击元素时弹出 "Hello World!" :</p>
<div class="example_code">
<em>element</em>.addEventListener("click", 
		myFunction);<br/><br/>function myFunction() {<br/>    
		alert ("Hello World!");<br/>}</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_add2" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>向同一个元素中添加多个事件句柄</h2>
<p> addEventListener() 方法允许向同一个元素添加多个事件，且不会覆盖已存在的事件：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<em>element</em>.addEventListener("click", myFunction);<br/><em>element</em>.addEventListener("click", mySecondFunction);<br/>
</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_add_many" target="_blank">尝试一下 »</a>
</div>
<p>你可以向同个元素添加不同类型的事件：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<em>element</em>.addEventListener("mouseover", myFunction);<br/><em>element</em>.addEventListener("click", mySecondFunction);<br/><em>element</em>.addEventListener("mouseout", myThirdFunction);</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_add_many2" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>向 Window 对象添加事件句柄</h2>
<p> addEventListener() 方法允许你在 HTML DOM 对象添加事件监听， HTML DOM 对象如： HTML 元素,  HTML 文档,  window 对象。或者其他支出的事件对象如: xmlHttpRequest 对象。</p>
<div class="example">
<h2 class="example">实例</h2>
<p class="example">当用户重置窗口大小时添加事件监听：</p>
<div class="example_code">
	window.addEventListener("resize", function(){<br/>
    document.getElementById("demo").innerHTML = <em>sometext</em>;<br/>
	});</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_dom" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>传递参数</h2>
<p>当传递参数值时，使用"匿名函数"调用带参数的函数：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<em>element</em>.addEventListener("click", function(){ myFunction(p1, 
	p2); });</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_parameters" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>事件冒泡或事件捕获？</h2>
<p>事件传递有两种方式：冒泡与捕获。</p>
<p>事件传递定义了元素事件触发的顺序。
如果你将 &lt;p&gt; 元素插入到 &lt;div&gt; 元素中，用户点击 &lt;p&gt; 元素, 哪个元素的 "click" 事件先被触发呢？</p>
<p>在 <em> 冒泡 </em>中，内部元素的事件会先被触发，然后再触发外部元素，即：
 &lt;p&gt; 元素的点击事件先触发，然后会触发 &lt;div&gt; 元素的点击事件。</p>
<p>在 <em> 捕获 </em>中，外部元素的事件会先被触发，然后才会触发内部元素的事件，即： &lt;div&gt; 元素的点击事件先触发
，然后再触发 &lt;p&gt; 元素的点击事件。</p>
<p> addEventListener() 方法可以指定 "useCapture"  参数来设置传递类型：</p>
<div class="code"><div>
addEventListener(<em>event</em>, <em>function</em>, <span class="marked"><em>useCapture</em></span>);</div></div>
<p>默认值为 false, 即冒泡传递，当值为 true 时, 事件使用捕获传递。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
	document.getElementById("myDiv").addEventListener("click", myFunction, true);</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_usecapture" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2> removeEventListener() 方法</h2>
<p> removeEventListener() 方法移除由  addEventListener() 方法添加的事件句柄:</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<em>element</em>.removeEventListener("mousemove", myFunction);</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_remove" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>浏览器支持</h2>
<p>表格中的数字表示支持该方法的第一个浏览器的版本号。</p>
<table class="browserref">
<tr>
<th style="width:20%;font-size:16px;text-align:left">方法</th>
<th class="bsChrome" style="width:16%" title="Chrome"></th>
<th class="bsIE" style="width:16%" title="Internet Explorer"></th>
<th class="bsFirefox" style="width:16%" title="Firefox"></th>
<th class="bsSafari" style="width:16%" title="Safari"></th>
<th class="bsOpera" style="width:16%" title="Opera"></th>
</tr>
<tr>
<td style="text-align:left">addEventListener()</td>
<td>1.0</td>
<td>9.0</td>
<td>1.0</td>
<td>1.0</td>
<td>7.0</td>
</tr>
<tr>
<td style="text-align:left">removeEventListener()</td>
<td>1.0</td>
<td>9.0</td>
<td>1.0</td>
<td>1.0</td>
<td>7.0</td>
</tr>
</table>
<p><strong>注意：</strong> IE 8 及更早 IE 版本，Opera 7.0及其更早版本不支持 addEventListener() 和 removeEventListener() 
方法。但是，对于这类浏览器版本可以使用 detachEvent() 方法来移除事件句柄:</p>
<div class="code"><div>
<em>element.attachEvent(event, function);<br/>element.detachEvent(event, 
	function);</em>
</div></div>
<br/><div class="example">
<h2 class="example">实例</h2>
<p>跨浏览器解决方法:</p>
<div class="example_code">
	var x = document.getElementById("myBtn");<br/>if (x.addEventListener) {                    
	// 所有主流浏览器，除了 IE 8 及更早版本<br/>    
	x.addEventListener("click", myFunction);<br/>} else if (x.attachEvent) {                  
	// IE 8 及更早版本<br/>    
	x.attachEvent("onclick", myFunction);<br/>}</div>
<br/><a class="tryitbtn" href="/try/try.php?filename=tryjs_addeventlistener_crossbrowser" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>HTML DOM 事件对象参考手册</h2>
<p>所有 HTML DOM 事件，可以查看我们完整的<a href="/jsref/dom-obj-event.html"> HTML DOM Event 对象参考手册</a>。			
			
			</p></div>