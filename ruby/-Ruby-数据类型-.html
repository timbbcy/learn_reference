<div class="article-intro" id="content">
<h1>Ruby 数据类型</h1>
<p>本章节我们将为大家介绍 Ruby 的基本数据类型。</p>
<p>
Ruby支持的数据类型包括基本的Number、String、Ranges、Symbols，以及true、false和nil这几个特殊值，同时还有两种重要的数据结构——Array和Hash。
</p>
<hr/>
<h2>数值类型(Number)</h2>
<h3>1、整型(Integer)</h3>
<p>
整型分两种，如果在31位以内（四字节），那为Fixnum实例。如果超过，即为Bignum实例。
</p>
<p>整数范围从 -2<sup>30</sup> 到 2<sup>30</sup>-1，在这个范围内的整数是类 <i>Fixnum</i> 的对象， 当整数值大于或等于2的30次方时（
 -2<sup>62</sup> 到 2<sup>62</sup>-1），会自动转化为 Bignum 类型。</p>
<p>您可以在整数前使用一个可选的前导符号，一个可选的基础指标（0 对应 octal，0x 对应 hex，0b 对应 binary），后跟一串数字。下划线字符在数字字符串中被忽略。</p>
<p>您可以获取一个 ASCII 字符或一个用问号标记的转义序列的整数值。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-number">123</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> Fixnum 十进制</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">1</span><span class="hl-identifier">_234</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> Fixnum 带有下划线的十进制</span><span class="hl-comment"></span><span class="hl-code">
-</span><span class="hl-number">500</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 负的 Fixnum</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">0377</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 八进制</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">0xff</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 十六进制</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">0</span><span class="hl-identifier">b1011</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 二进制</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-quotes">"</span><span class="hl-string">a</span><span class="hl-quotes">"</span><span class="hl-code">.</span><span class="hl-identifier">ord</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> "a" 的字符编码</span><span class="hl-comment"></span><span class="hl-code">
?\</span><span class="hl-identifier">n</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 换行符（0x0a）的编码</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">12345678901234567890</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 大数</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">整型 Integer 以下是一些整型字面量 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">字面量（literal）：代码中能见到的值，数值，bool值，字符串等都叫字面量 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">如以下的0,1_000_000,0xa等 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">a1</span><span class="hl-code">=</span><span class="hl-number">0</span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">带千分符的整型 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">a2</span><span class="hl-code">=</span><span class="hl-number">1</span><span class="hl-identifier">_000_000</span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">其它进制的表示 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">a3</span><span class="hl-code">=</span><span class="hl-number">0xa</span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-identifier">a1</span><span class="hl-code">,</span><span class="hl-identifier">a2</span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-identifier">a3</span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">puts print 都是向控制台打印字符，其中puts带回车换行符 </span><span class="hl-comment"></span><span class="hl-code">
=</span><span class="hl-reserved">begin</span><span class="hl-code"> 
这是注释，称作：嵌入式文档注释 
类似</span><span class="hl-identifier">C</span><span class="hl-comment">#</span><span class="hl-comment">中的/**/ </span><span class="hl-comment"></span><span class="hl-code">
=</span><span class="hl-reserved">end</span></div>
</div>
</div>
<h3>浮点型</h3>
<p>Ruby 支持浮点数。它们是带有小数的数字。浮点数是类 <i>Float</i> 的对象，且可以是下列中任意一个。</p>
<h3>实例</h3>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-number">123.4</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 浮点值</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">1.0e6</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 科学记数法</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">4E20</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 不是必需的</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-number">4e+20</span><span class="hl-code"> </span><span class="hl-comment">#</span><span class="hl-comment"> 指数前的符号</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-comment">#</span><span class="hl-comment">浮点型 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">f1</span><span class="hl-code">=</span><span class="hl-number">0.0</span><span class="hl-code">
</span><span class="hl-identifier">f2</span><span class="hl-code">=</span><span class="hl-number">2.1</span><span class="hl-code">
</span><span class="hl-identifier">f3</span><span class="hl-code">=</span><span class="hl-number">1000000.1</span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-identifier">f3</span></div>
</div>
</div>
<h3>算术操作</h3>
<p>
加减乘除操作符：+-*/；指数操作符为**
</p>
<p>
指数不必是整数，例如
</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-comment">#</span><span class="hl-comment">指数算术 </span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-number">2</span><span class="hl-code">**</span><span class="hl-brackets">(</span><span class="hl-number">1</span><span class="hl-quotes">/</span><span class="hl-string">4)#1与4的商为0，然后2的0次方为1 
puts 16**(1</span><span class="hl-quotes">/</span><span class="hl-number">4.0</span><span class="hl-brackets">)</span><span class="hl-comment">#</span><span class="hl-comment">1与4.0的商为0.25（四分之一），然后开四次方根</span><span class="hl-comment"></span></div>
</div>
</div>
<hr/>
<h2>字符串类型</h2>
<p>
Ruby 字符串简单地说是一个 8 位字节序列，它们是类 String 的对象。</p>
<p>双引号标记的字符串允许替换和使用反斜线符号，单引号标记的字符串不允许替换，且只允许使用 \\ 和 \' 两个反斜线符号。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-comment">#</span><span class="hl-comment">!/usr/bin/ruby -w</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-quotes">'</span><span class="hl-string">escape using "</span><span class="hl-special">\\</span><span class="hl-string">"</span><span class="hl-quotes">'</span><span class="hl-code">;
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-quotes">'</span><span class="hl-string">That</span><span class="hl-special">\'</span><span class="hl-string">s right</span><span class="hl-quotes">'</span><span class="hl-code">;</span></div>
</div>
<br/>
<a class="tryitbtn" href="/try/runcode.php?filename=string_demo&amp;type=ruby" target="_blank">尝试一下 »</a>
</div>
<p>这将产生以下结果：</p>
<pre>
escape using "\"
That's right
</pre>
<p>您可以使用序列 <b>#{ expr }</b> 替换任意 Ruby 表达式的值为一个字符串。在这里，expr 可以是任意的 Ruby 表达式。</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-comment">#</span><span class="hl-comment">!/usr/bin/ruby -w</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">相乘 : #{24*60*60}</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div>
<p>这将产生以下结果：</p>
<pre>
相乘 : 86400
</pre>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-comment">#</span><span class="hl-comment">!/usr/bin/ruby -w</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">name</span><span class="hl-code">=</span><span class="hl-quotes">"</span><span class="hl-string">Ruby</span><span class="hl-quotes">"</span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-identifier">name</span><span class="hl-code">
</span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">#{name+</span><span class="hl-quotes">"</span><span class="hl-code">,</span><span class="hl-identifier">ok</span><span class="hl-quotes">"</span><span class="hl-string">}</span><span class="hl-quotes">"</span></div>
</div>
</div>
<p>输出结果为：</p>
<pre>
Ruby
Ruby,ok
</pre>
<h3>反斜线符号</h3>
<p>下表列出了 Ruby 支持的反斜线符号：</p>
<table class="reference">
<tr><th>符号</th><th>表示的字符</th></tr>
<tr><td>\n</td><td>换行符 (0x0a)</td></tr>
<tr><td>\r</td><td>回车符 (0x0d)</td></tr>
<tr><td>\f</td><td>换页符 (0x0c)</td></tr>
<tr><td>\b</td><td>退格键 (0x08)</td></tr>
<tr><td>\a</td><td>报警符 Bell (0x07)</td></tr>
<tr><td>\e</td><td>转义符 (0x1b)</td></tr>
<tr><td>\s</td><td>空格符 (0x20)</td></tr>
<tr><td>\nnn</td><td>八进制表示法 (n 是 0-7)</td></tr>
<tr><td>\xnn</td><td>十六进制表示法 (n 是 0-9、a-f 或 A-F)</td></tr>
<tr><td>\cx, \C-x</td><td>Control-x</td></tr>
<tr><td>\M-x</td><td>Meta-x (c | 0x80)</td></tr>
<tr><td>\M-\C-x</td><td>Meta-Control-x</td></tr>
<tr><td>\x</td><td>字符 x</td></tr>
</table>
<p>如需了解更多有关 Ruby 字符串的细节，请查看 <a href="/ruby/ruby-string.html">Ruby 字符串（String）</a>。</p>
<h2>数组</h2>
<p>数组字面量通过[]中以逗号分隔定义，且支持range定义。</p>
<ul>
<li>（1）数组通过[]索引访问
</li><li>
（2）通过赋值操作插入、删除、替换元素</li><li>
（3）通过+，－号进行合并和删除元素，且集合做为新集合出现</li><li>
（4）通过&lt;&lt;号向原数据追加元素</li><li>
（5）通过*号重复数组元素</li><li>
（6）通过｜和&amp;符号做并集和交集操作（注意顺序）</li>
</ul>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-comment">#</span><span class="hl-comment">!/usr/bin/ruby</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">ary</span><span class="hl-code"> = </span><span class="hl-brackets">[</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">fred</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-number">10</span><span class="hl-code">, </span><span class="hl-number">3.14</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">This is a string</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">last element</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-brackets">]</span><span class="hl-code">
</span><span class="hl-identifier">ary</span><span class="hl-code">.</span><span class="hl-identifier">each</span><span class="hl-code"> </span><span class="hl-reserved">do</span><span class="hl-code"> |</span><span class="hl-identifier">i</span><span class="hl-code">|
    </span><span class="hl-identifier">puts</span><span class="hl-code"> </span><span class="hl-identifier">i</span><span class="hl-code">
</span><span class="hl-reserved">end</span></div>
</div>
<br/>
<a class="tryitbtn" href="/try/runcode.php?filename=array_demo&amp;type=ruby" target="_blank">尝试一下 »</a>
</div>
<p>这将产生以下结果：</p>
<pre>
fred
10
3.14
This is a string
last element
</pre>
<p>如需了解更多有关 Ruby 数组的细节，请查看 <a href="/ruby/ruby-array.html">Ruby 数组（Array）</a>。</p>
<h2>哈希类型</h2>
<p>Ruby 哈希是在大括号内放置一系列键/值对，键和值之间使用逗号和序列 =&gt; 分隔。尾部的逗号会被忽略。</p>
<h3>实例</h3>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-comment">#</span><span class="hl-comment">!/usr/bin/ruby</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">hsh</span><span class="hl-code"> = </span><span class="hl-identifier">colors</span><span class="hl-code"> = { </span><span class="hl-quotes">"</span><span class="hl-string">red</span><span class="hl-quotes">"</span><span class="hl-code"> =&gt; </span><span class="hl-number">0xf00</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">green</span><span class="hl-quotes">"</span><span class="hl-code"> =&gt; </span><span class="hl-number">0x0f0</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">blue</span><span class="hl-quotes">"</span><span class="hl-code"> =&gt; </span><span class="hl-number">0x00f</span><span class="hl-code"> }
</span><span class="hl-identifier">hsh</span><span class="hl-code">.</span><span class="hl-identifier">each</span><span class="hl-code"> </span><span class="hl-reserved">do</span><span class="hl-code"> |</span><span class="hl-identifier">key</span><span class="hl-code">, </span><span class="hl-identifier">value</span><span class="hl-code">|
    </span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-identifier">key</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string"> is </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">value</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">
</span><span class="hl-reserved">end</span></div>
</div>
<br/>
<a class="tryitbtn" href="/try/runcode.php?filename=hash_demo&amp;type=ruby" target="_blank">尝试一下 »</a>
</div>
<p>这将产生以下结果：</p>
<pre>
red is 3840
green is 240
blue is 15
</pre>
<p>如需了解更多有关 Ruby 哈希的细节，请查看 <a href="/ruby/ruby-hash.html">Ruby 哈希（Hash）</a>。</p>
<h2>范围类型</h2>
<p>一个范围表示一个区间。
</p>范围是通过设置一个开始值和一个结束值来表示。范围可使用 s..e 和 s...e 来构造，或者通过 Range.new 来构造。</div>