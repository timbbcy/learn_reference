<div class="article-intro" id="content">
<h1>C++ <span class="color_h1">类 &amp; 对象</span></h1>
<div class="tutintro">
<p>C++ 在 C 语言的基础上增加了面向对象编程，C++ 支持面向对象程序设计。类是 C++ 的核心特性，通常被称为用户定义的类型。</p>
<p>类用于指定对象的形式，它包含了数据表示法和用于处理数据的方法。类中的数据和方法称为类的成员。函数在一个类中被称为类的成员。</p>
</div>
<h2 class="tutheader">C++ 类定义</h2>
<p>定义一个类，本质上是定义一个数据类型的蓝图。这实际上并没有定义任何数据，但它定义了类的名称意味着什么，也就是说，它定义了类的对象包括了什么，以及可以在这个对象上执行哪些操作。</p>
<p>类定义是以关键字 <b>class</b> 开头，后跟类的名称。类的主体是包含在一对花括号中。类定义后必须跟着一个分号或一个声明列表。例如，我们使用关键字 <b>class</b> 定义 Box 数据类型，如下所示：</p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-types">class</span><span class="hl-code"> </span><span class="hl-identifier">Box</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">public</span><span class="hl-code">:
      </span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">length</span><span class="hl-code">;   </span><span class="hl-comment">// 盒子的长度</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">breadth</span><span class="hl-code">;  </span><span class="hl-comment">// 盒子的宽度</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">height</span><span class="hl-code">;   </span><span class="hl-comment">// 盒子的高度</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">;</span></div>
</div>
</div>
<p>关键字 <b>public</b> 确定了类成员的访问属性。在类对象作用域内，公共成员在类的外部是可访问的。您也可以指定类的成员为 <b>private</b> 或 <b>protected</b>，这个我们稍后会进行讲解。</p>
<h2 class="tutheader">定义 C++ 对象</h2>
<p>类提供了对象的蓝图，所以基本上，对象是根据类来创建的。声明类的对象，就像声明基本类型的变量一样。下面的语句声明了类 Box 的两个对象：</p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-identifier">Box</span><span class="hl-code"> </span><span class="hl-identifier">Box1</span><span class="hl-code">;          </span><span class="hl-comment">// 声明 Box1，类型为 Box</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">Box</span><span class="hl-code"> </span><span class="hl-identifier">Box2</span><span class="hl-code">;          </span><span class="hl-comment">// 声明 Box2，类型为 Box</span></div>
</div>
</div>
<p>对象 Box1 和 Box2 都有它们各自的数据成员。</p>
<h2 class="tutheader">访问数据成员</h2>
<p>类的对象的公共数据成员可以使用直接成员访问运算符 (.) 来访问。为了更好地理解这些概念，让我们尝试一下下面的实例：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">iostream</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"></span><span class="hl-code">
</span><span class="hl-reserved">using</span><span class="hl-code"> </span><span class="hl-types">namespace</span><span class="hl-code"> </span><span class="hl-identifier">std</span><span class="hl-code">;
 
</span><span class="hl-types">class</span><span class="hl-code"> </span><span class="hl-identifier">Box</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">public</span><span class="hl-code">:
      </span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">length</span><span class="hl-code">;   </span><span class="hl-comment">// 长度</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">breadth</span><span class="hl-code">;  </span><span class="hl-comment">// 宽度</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">height</span><span class="hl-code">;   </span><span class="hl-comment">// 高度</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">;
 
</span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-code"> </span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">Box</span><span class="hl-code"> </span><span class="hl-identifier">Box1</span><span class="hl-code">;        </span><span class="hl-comment">// 声明 Box1，类型为 Box</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">Box</span><span class="hl-code"> </span><span class="hl-identifier">Box2</span><span class="hl-code">;        </span><span class="hl-comment">// 声明 Box2，类型为 Box</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">volume</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-number">.0</span><span class="hl-code">;     </span><span class="hl-comment">// 用于存储体积</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-comment">// box 1 详述</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">Box1</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code"> = </span><span class="hl-number">5</span><span class="hl-number">.0</span><span class="hl-code">; 
   </span><span class="hl-identifier">Box1</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code"> = </span><span class="hl-number">6</span><span class="hl-number">.0</span><span class="hl-code">; 
   </span><span class="hl-identifier">Box1</span><span class="hl-code">.</span><span class="hl-identifier">breadth</span><span class="hl-code"> = </span><span class="hl-number">7</span><span class="hl-number">.0</span><span class="hl-code">;
 
   </span><span class="hl-comment">// box 2 详述</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">Box2</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code"> = </span><span class="hl-number">10</span><span class="hl-number">.0</span><span class="hl-code">;
   </span><span class="hl-identifier">Box2</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code"> = </span><span class="hl-number">12</span><span class="hl-number">.0</span><span class="hl-code">;
   </span><span class="hl-identifier">Box2</span><span class="hl-code">.</span><span class="hl-identifier">breadth</span><span class="hl-code"> = </span><span class="hl-number">13</span><span class="hl-number">.0</span><span class="hl-code">;
 
   </span><span class="hl-comment">// box 1 的体积</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">volume</span><span class="hl-code"> = </span><span class="hl-identifier">Box1</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code"> * </span><span class="hl-identifier">Box1</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code"> * </span><span class="hl-identifier">Box1</span><span class="hl-code">.</span><span class="hl-identifier">breadth</span><span class="hl-code">;
   </span><span class="hl-identifier">cout</span><span class="hl-code"> &lt;&lt; </span><span class="hl-quotes">"</span><span class="hl-string">Box1 的体积：</span><span class="hl-quotes">"</span><span class="hl-code"> &lt;&lt; </span><span class="hl-identifier">volume</span><span class="hl-code"> &lt;&lt;</span><span class="hl-identifier">endl</span><span class="hl-code">;
 
   </span><span class="hl-comment">// box 2 的体积</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">volume</span><span class="hl-code"> = </span><span class="hl-identifier">Box2</span><span class="hl-code">.</span><span class="hl-identifier">height</span><span class="hl-code"> * </span><span class="hl-identifier">Box2</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-code"> * </span><span class="hl-identifier">Box2</span><span class="hl-code">.</span><span class="hl-identifier">breadth</span><span class="hl-code">;
   </span><span class="hl-identifier">cout</span><span class="hl-code"> &lt;&lt; </span><span class="hl-quotes">"</span><span class="hl-string">Box2 的体积：</span><span class="hl-quotes">"</span><span class="hl-code"> &lt;&lt; </span><span class="hl-identifier">volume</span><span class="hl-code"> &lt;&lt;</span><span class="hl-identifier">endl</span><span class="hl-code">;
   </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<pre>
Box1 的体积：210
Box2 的体积：1560
</pre>
<p>需要注意的是，私有的成员和受保护的成员不能使用直接成员访问运算符 (.) 来直接访问。我们将在后续的教程中学习如何访问私有成员和受保护的成员。</p>
<h1 id="detail">类 &amp; 对象详解</h1>
<p>到目前为止，我们已经对 C++ 的类和对象有了基本的了解。下面的列表中还列出了其他一些 C++ 类和对象相关的概念，可以点击相应的链接进行学习。</p>
<table class="reference notranslate">
<tr><th width="40%">概念</th><th>描述</th></tr>
<tr><td> <a href="/cplusplus/cpp-class-member-functions.html" title="C++ 类成员函数">类成员函数</a></td><td>类的成员函数是指那些把定义和原型写在类定义内部的函数，就像类定义中的其他变量一样。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-class-access-modifiers.html" title="C++ 类访问修饰符">类访问修饰符</a></td><td>类成员可以被定义为 public、private 或 protected。默认情况下是定义为 private。</td></tr>
<tr><td> <a href="/cplusplus/cpp-constructor-destructor.html" title="C++ 构造函数 &amp; 析构函数">构造函数 &amp; 析构函数</a></td><td>类的构造函数是一种特殊的函数，在创建一个新的对象时调用。类的析构函数也是一种特殊的函数，在删除所创建的对象时调用。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-copy-constructor.html" title="C++ 拷贝构造函数">C++ 拷贝构造函数</a></td><td>拷贝构造函数，是一种特殊的构造函数，它在创建对象时，是使用同一类中之前创建的对象来初始化新创建的对象。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-friend-functions.html" title="C++ 友元函数">C++ 友元函数</a></td><td><b>友元函数</b>可以访问类的 private 和 protected 成员。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-inline-functions.html" title="C++ 内联函数">C++ 内联函数</a></td><td>通过内联函数，编译器试图在调用函数的地方扩展函数体中的代码。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-this-pointer.html" title="C++ 中的 this 指针">C++ 中的 this 指针</a></td><td>每个对象都有一个特殊的指针 <b>this</b>，它指向对象本身。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-pointer-to-class.html" title="C++ 中指向类的指针">C++ 中指向类的指针</a></td><td>指向类的指针方式如同指向结构的指针。实际上，类可以看成是一个带有函数的结构。</td> </tr>
<tr><td> <a href="/cplusplus/cpp-static-members.html" title="C++ 类的静态成员">C++ 类的静态成员</a></td><td>类的数据成员和函数成员都可以被声明为静态的。</td> </tr>
</table>
</div>