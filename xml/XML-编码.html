<div class="article-intro" id="content">
<h1>XML <span class="color_h1">编码</span>
</h1>
<hr/>
<p class="intro">XML 文档可以包含非 ASCII 字符，比如挪威语 æ ø å，或者法语 ê è é。</p>
<p class="intro">为了避免错误，需要规定 XML 编码，或者将 XML 文件存为 Unicode。</p>
<hr/>
<h2>XML 编码错误</h2>
<p>如果您载入一个 XML 文档，您可以得到两个不同的错误，表示编码问题：</p>
<p><b>在文本内容中发现无效字符。</b></p>
<p>如果您的 XML 中包含非 ASCII 字符，且文件保存为没有指定编码的单字节 ANSI（或 ASCII），您会得到一个错误。</p>
<p><a href="/try/xml/singlebyte2.xml" target="_blank">单字节编码属性的 XML 文件</a>。</p>
<p><a href="/try/xml/singlebyte1.xml" target="_blank">相同的单字节没有编码属性的 XML 文件</a>。</p>
<p><b>将当前编码切换为不被支持的指定编码</b></p>
<p>如果您的 XML 文件保存为带有指定的单字节编码（WINDOWS-1252、ISO-8859-1、UTF-8）的双字节 Unicode（或 UTF-16），您会得到一个错误。</p>
<p>如果您的 XML 文件保存为带有指定的双字节编码（UTF-16）的单字节 ANSI（或 ASCII），您也会得到一个错误。</p>
<p><a href="/try/xml/doublebyte2.xml" target="_blank">双字节没有编码的 XML 文件</a>。</p>
<p><a href="/try/xml/doublebyte1.xml" target="_blank">相同的双字节具有单字节编码的 XML 文件</a>。</p>
<hr/>
<h2>Windows 记事本</h2>
<p>Windows 记事本默认会将文件保存为单字节的 ANSI（ASCII）。</p>
<p>如果您选择 "另存为..."，就可以指定 ANSI、UTF-8、Unicode（UTF-16）或 Unicode Big。</p>
<p>将下面的 XML 保存为 ANSI、UTF-8 和 Unicode（注意文档不包含任何编码属性）。</p>
<div class="code notranslate"><div>
&lt;?xml version="1.0"?&gt;<br/>
&lt;note&gt;<br/>
  &lt;from&gt;Jani&lt;/from&gt;<br/>
  &lt;to&gt;Tove&lt;/to&gt;<br/>

  &lt;message&gt;Norwegian: æøå. French: êèé&lt;/message&gt;<br/>
&lt;/note&gt;</div></div>
<p>尝试将文件拖到您的浏览器，并查看结果。不同的浏览器会显示不同的结果。</p>
<p>不同编码的体验：</p>
<div class="code notranslate"><div>
&lt;?xml version="1.0" encoding="us-ascii"?&gt;<br/>&lt;?xml version="1.0" encoding="windows-1252"?&gt;<br/>&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;<br/>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>&lt;?xml version="1.0" encoding="UTF-16"?&gt;</div></div>
<p>请尝试：</p>
<p><a href="/try/xml/note_with_right_encoding.xml" target="_blank">带有正确编码的保存</a></p>
<p><a href="/try/xml/note_with_wrong_encoding.xml" target="_blank">带有错误编码的保存</a></p>
<br/>
<hr/>
<h2>结论</h2>
<ul>
<li>始终使用编码属性</li>
<li>使用支持编码的编辑器</li>
<li>确保您知道编辑器使用什么编码</li>
<li>在您的编码属性中使用相同的编码</li>
</ul>
</div>