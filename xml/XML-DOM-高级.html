<div class="article-intro" id="content">
<h1>XML DOM <span class="color_h1">高级</span>
</h1>
<hr/>
<h2>XML DOM - 高级</h2>
<p>在<a href="/xml/xml-dom.html">本教程的较早章节</a>中，我们介绍了 XML DOM，并使用了 XML DOM 的 getElementsByTagName() 方法从 XML 文档中取回数据。</p>
<p>在本章中我们将结合一些其他重要的 XML DOM 方法。</p>
<p>您可以在我们的 <a href="/dom/dom-tutorial.html">XML DOM 教程</a> 中学习更多有关 XML DOM 的知识。</p>
<hr/>
<h2>获取元素的值</h2>
<p>下面的实例中使用的 XML 文件：<a href="/try/xml/books.xml" target="_blank">books.xml</a>。</p>
<p>下面的实例检索第一个 &lt;title&gt; 元素的文本值：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
txt=xmlDoc.getElementsByTagName("title")[0].childNodes[0].nodeValue;</div>
<br/><a class="tryitbtn" href="/try/tryit.php?filename=tryxml_dom_getelement" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>获取属性的值</h2>
<p>下面的实例检索第一个 &lt;title&gt; 元素的 "lang" 属性的文本值：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
txt=xmlDoc.getElementsByTagName("title")[0].getAttribute("lang");
</div>
<br/><a class="tryitbtn" href="/try/tryit.php?filename=tryxml_dom_getattribute" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>改变元素的值</h2>
<p>
下面的实例改变第一个 &lt;title&gt; 元素的文本值：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
x=xmlDoc.getElementsByTagName("title")[0].childNodes[0];<br/>
x.nodeValue="Easy Cooking";
</div>
<br/><a class="tryitbtn" href="/try/tryit.php?filename=tryxml_dom_changeelement" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>创建新的属性</h2>
<p>XML DOM 的 setAttribute() 方法可用于改变现有的属性值，或创建一个新的属性。</p>
<p>下面的实例创建了一个新的属性（edition="first"），然后把它添加到每一个 &lt;book&gt; 元素中：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
x=xmlDoc.getElementsByTagName("book");<br/><br/>
for(i=0;i&lt;x.length;i++)<br/>
  {<br/>
  x[i].setAttribute("edition","first");<br/>
  }
</div>
<br/><a class="tryitbtn" href="/try/tryit.php?filename=tryxml_dom_addattribute" target="_blank">尝试一下 »</a>
</div>
<br/><hr/>
<h2>创建元素</h2>
<p>XML DOM 的 createElement() 方法创建一个新的元素节点。</p>
<p>XML DOM 的 createTextNode() 方法创建一个新的文本节点。</p>
<p>XML DOM 的 appendChild() 方法向节点添加子节点（在最后一个子节点之后）。</p>
<p>如需创建带有文本内容的新元素，需要同时创建元一个新的元素节点和一个新的文本节点，然后把他追加到现有的节点。</p>
<p>下面的实例创建了一个新的元素（&lt;edition&gt;），带有如下文本：First，然后把它添加到第一个 &lt;book&gt; 元素：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
newel=xmlDoc.createElement("edition");<br/>
newtext=xmlDoc.createTextNode("First");<br/>
newel.appendChild(newtext);<br/><br/>
x=xmlDoc.getElementsByTagName("book");<br/>
x[0].appendChild(newel);
</div>
<br/><a class="tryitbtn" href="/try/tryit.php?filename=tryxml_dom_createelement" target="_blank">尝试一下 »</a>
</div>
<p>实例解释</p>
<ul>
<li>创建一个 &lt;edition&gt; 元素</li>
<li>创建值为 "First" 的文本节点</li>
<li>把这个文本节点追加到新的 &lt;edition&gt; 元素</li>
<li>把 &lt;edition&gt; 元素追加到第一个 &lt;book&gt; 元素</li>
</ul>
<hr/>
<h2>删除元素</h2>
<p>下面的实例删除第一个 &lt;book&gt; 元素的第一个节点：</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code notranslate">
x=xmlDoc.getElementsByTagName("book")[0];<br/>
x.removeChild(x.childNodes[0]);
</div>
<br/><a class="tryitbtn" href="/try/tryit.php?filename=tryxml_dom_removeelement" target="_blank">尝试一下 »</a>
</div>
<p><b>注释：</b>上面实例的结果可能会根据所用的浏览器而不同。Firefox 把新行字符当作空的文本节点，而 Internet Explorer 不是这样。您可以在我们的 <a href="/dom/dom-tutorial.html">XML DOM 教程</a> 中阅读到更多有关这个问题以及如何避免它的知识。</p>
</div>