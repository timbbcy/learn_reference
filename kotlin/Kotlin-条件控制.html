<div class="article-intro" id="content">
<h1>Kotlin 条件控制</h1>
<h2>IF 表达式</h2>
<p>一个 if 语句包含一个布尔表达式和一条或多条语句。</p>
<pre>
// 传统用法
var max = a 
if (a &lt; b) max = b

// 使用 else 
var max: Int
if (a &gt; b) {
    max = a
} else {
    max = b
}
 
// 作为表达式
val max = if (a &gt; b) a else b
</pre>
<p>我们也可以把 IF 表达式的结果赋值给一个变量。</p>
<pre>
val max = if (a &gt; b) {
    print("Choose a")
    a
} else {
    print("Choose b")
    b
}
</pre>
<p>这也说明我也不需要像Java那种有一个三元操作符，因为我们可以使用它来简单实现：</p>
<pre>
val c = if (condition) a else b
</pre>
<h3>实例</h3>
<pre>
fun main(args: Array&lt;String&gt;) {
    var x = 0
    if(x&gt;0){
        println("x 大于 0")
    }else if(x==0){
        println("x 等于 0")
    }else{
        println("x 小于 0")
    }

    var a = 1
    var b = 2
    val c = if (a&gt;=b) a else b
    println("c 的值为 $c")
}
</pre>
<p>输出结果为：</p>
<pre>
x 等于 0
c 的值为 2
</pre>
<h3>使用区间</h3>
<p>使用 in 运算符来检测某个数字是否在指定区间内，区间格式为 <span class="marked">x..y</span> ：</p>
<p>实例</p>
<pre>
fun main(args: Array&lt;String&gt;) {
    val x = 5
    val y = 9
    if (x in 1..8) {
        println("x 在区间内")
    }
}
</pre>
<p>输出结果为：</p>
<pre>x 在区间内
</pre>
<hr/>
<h2>When 表达式</h2>
<p>when 将它的参数和所有的分支条件顺序比较，直到某个分支满足条件。</p>
<p> when 既可以被当做表达式使用也可以被当做语句使用。如果它被当做表达式，符合条件的分支的值就是整个表达式的值，如果当做语句使用， 则忽略个别分支的值。</p>
<p>when 类似其他语言的 switch 操作符。其最简单的形式如下：</p>
<pre>
when (x) {
    1 -&gt; print("x == 1")
    2 -&gt; print("x == 2")
    else -&gt; { // 注意这个块
        print("x 不是 1 ，也不是 2")
    }
}
</pre>
<p>在 when 中，else 同 switch 的 default。如果其他分支都不满足条件将会求值 else 分支。 </p>
<p>如果很多分支需要用相同的方式处理，则可以把多个分支条件放在一起，用逗号分隔：</p>
<pre>
when (x) {
    0, 1 -&gt; print("x == 0 or x == 1")
    else -&gt; print("otherwise")
}
</pre>
<p>我们也可以检测一个值在（in）或者不在（!in）一个区间或者集合中：</p>
<pre>when (x) {
    in 1..10 -&gt; print("x is in the range")
    in validNumbers -&gt; print("x is valid")
    !in 10..20 -&gt; print("x is outside the range")
    else -&gt; print("none of the above")
}</pre><p>另一种可能性是检测一个值是（is）或者不是（!is）一个特定类型的值。注意： 由于智能转换，你可以访问该类型的方法和属性而无需 任何额外的检测。</p>
<pre>
fun hasPrefix(x: Any) = when(x) {
    is String -&gt; x.startsWith("prefix")
    else -&gt; false
}
</pre>
<p>when 也可以用来取代 if-else if链。 如果不提供参数，所有的分支条件都是简单的布尔表达式，而当一个分支的条件为真时则执行该分支：</p>
<pre>
when {
    x.isOdd() -&gt; print("x is odd")
    x.isEven() -&gt; print("x is even")
    else -&gt; print("x is funny")
}
</pre>
<h3>实例</h3>
<pre>
fun main(args: Array&lt;String&gt;) {
    var x = 0
    when (x) {
        0, 1 -&gt; println("x == 0 or x == 1")
        else -&gt; println("otherwise")
    }

    when (x) {
        1 -&gt; println("x == 1")
        2 -&gt; println("x == 2")
        else -&gt; { // 注意这个块
            println("x 不是 1 ，也不是 2")
        }
    }

    when (x) {
        in 0..10 -&gt; println("x 在该区间范围内")
        else -&gt; println("x 不在该区间范围内")
    }
}
</pre>
<p>输出结果：</p>
<pre>
x == 0 or x == 1
x 不是 1 ，也不是 2
x 在该区间范围内
</pre>
<p>when 中使用 <span class="marked">in</span> 运算符来判断集合内是否包含某实例：</p>
<pre>
fun main(args: Array&lt;String&gt;) {
    val items = setOf("apple", "banana", "kiwi")
    when {
        "orange" in items -&gt; println("juicy")
        "apple" in items -&gt; println("apple is fine too")
    }
}
</pre><p>输出结果：</p>
<pre>
apple is fine too
</pre>
</div>