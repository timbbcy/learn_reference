<div class="article-intro" id="content">
<h1>Kotlin 接口</h1>
<p>Kotlin 接口与 Java 8 类似，使用 interface 关键字定义接口，允许方法有默认实现：</p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">interface</span><span class="hl-code"> </span><span class="hl-identifier">MyInterface</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment"> 未实现</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment">已实现</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 可选的方法体</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">println</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">foo</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<h3>实现接口</h3>
<p>一个类或者对象可以实现一个或多个接口。</p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">class</span><span class="hl-code"> </span><span class="hl-identifier">Child</span><span class="hl-code"> : </span><span class="hl-identifier">MyInterface</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 方法体</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">interface</span><span class="hl-code"> </span><span class="hl-identifier">MyInterface</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 可选的方法体</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">println</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">foo</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">class</span><span class="hl-code"> </span><span class="hl-identifier">Child</span><span class="hl-code"> : </span><span class="hl-identifier">MyInterface</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 方法体</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">println</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">bar</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-identifier">args</span><span class="hl-code">: </span><span class="hl-identifier">Array</span><span class="hl-code">&lt;</span><span class="hl-identifier">String</span><span class="hl-code">&gt;</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">val</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-code"> =  </span><span class="hl-identifier">Child</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<p>输出结果为：</p>
<pre>
foo
bar
</pre>
<h3>接口中的属性</h3>
<p>接口中的属性只能是抽象的，不允许初始化值，接口不会保存属性值，实现接口时，必须重写属性：</p>
<div class="example">
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">interface</span><span class="hl-code"> </span><span class="hl-identifier">MyInterface</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">var</span><span class="hl-code"> </span><span class="hl-identifier">name</span><span class="hl-code">:</span><span class="hl-identifier">String</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment">name 属性, 抽象的</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">class</span><span class="hl-code"> </span><span class="hl-identifier">MyImpl</span><span class="hl-code">:</span><span class="hl-identifier">MyInterface</span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">var</span><span class="hl-code"> </span><span class="hl-identifier">name</span><span class="hl-code">: </span><span class="hl-identifier">String</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">runoob</span><span class="hl-quotes">"</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment">重载属性</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">interface</span><span class="hl-code"> </span><span class="hl-identifier">MyInterface</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">var</span><span class="hl-code"> </span><span class="hl-identifier">name</span><span class="hl-code">:</span><span class="hl-identifier">String</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment">name 属性, 抽象的</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 可选的方法体</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">println</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">foo</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">class</span><span class="hl-code"> </span><span class="hl-identifier">Child</span><span class="hl-code"> : </span><span class="hl-identifier">MyInterface</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">var</span><span class="hl-code"> </span><span class="hl-identifier">name</span><span class="hl-code">: </span><span class="hl-identifier">String</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">runoob</span><span class="hl-quotes">"</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment">重载属性</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-comment">//</span><span class="hl-comment"> 方法体</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">println</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">bar</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-identifier">args</span><span class="hl-code">: </span><span class="hl-identifier">Array</span><span class="hl-code">&lt;</span><span class="hl-identifier">String</span><span class="hl-code">&gt;</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">val</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-code"> =  </span><span class="hl-identifier">Child</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">println</span><span class="hl-brackets">(</span><span class="hl-identifier">c</span><span class="hl-code">.</span><span class="hl-identifier">name</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<p>输出结果为：</p>
<pre>
foo
bar
runoob
</pre>
<hr/>
<h2>函数重写</h2>
<p>实现多个接口时，可能会遇到同一方法继承多个实现的问题。例如:</p>
<div class="example">
<h2 class="example">实例</h2>
<div class="example_code">
<div class="hl-main"><span class="hl-reserved">interface</span><span class="hl-code"> </span><span class="hl-identifier">A</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-identifier">print</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">A</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">}</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment"> 已实现</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment"> 未实现，没有方法体，是抽象的</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">interface</span><span class="hl-code"> </span><span class="hl-identifier">B</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-identifier">print</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">B</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">}</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment"> 已实现</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-identifier">print</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">bar</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">}</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment"> 已实现</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">class</span><span class="hl-code"> </span><span class="hl-identifier">C</span><span class="hl-code"> : </span><span class="hl-identifier">A</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-identifier">print</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">bar</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">}</span><span class="hl-code"> </span><span class="hl-comment">//</span><span class="hl-comment"> 重写</span><span class="hl-comment"></span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-reserved">class</span><span class="hl-code"> </span><span class="hl-identifier">D</span><span class="hl-code"> : </span><span class="hl-identifier">A</span><span class="hl-code">, </span><span class="hl-identifier">B</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">super</span><span class="hl-code">&lt;</span><span class="hl-identifier">A</span><span class="hl-code">&gt;.</span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-reserved">super</span><span class="hl-code">&lt;</span><span class="hl-identifier">B</span><span class="hl-code">&gt;.</span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">override</span><span class="hl-code"> </span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-reserved">super</span><span class="hl-code">&lt;</span><span class="hl-identifier">B</span><span class="hl-code">&gt;.</span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-identifier">fun</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-identifier">args</span><span class="hl-code">: </span><span class="hl-identifier">Array</span><span class="hl-code">&lt;</span><span class="hl-identifier">String</span><span class="hl-code">&gt;</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
</span><span class="hl-identifier">val</span><span class="hl-code"> </span><span class="hl-identifier">d</span><span class="hl-code"> =  </span><span class="hl-identifier">D</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">d</span><span class="hl-code">.</span><span class="hl-identifier">bar</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></div>
</div>
</div><p>输出结果为：</p>
<pre>
ABbar
</pre>
<p>实例中接口 A 和 B 都定义了方法 foo() 和 bar()， 两者都实现了 foo(),  B 实现了 bar()。因为 C 是一个实现了 A 的具体类，所以必须要重写 bar() 并实现这个抽象方法。
<p>
然而，如果我们从 A 和 B 派生 D，我们需要实现多个接口继承的所有方法，并指明 D 应该如何实现它们。这一规则 既适用于继承单个实现（bar()）的方法也适用于继承多个实现（foo()）的方法。</p>
</p></div>